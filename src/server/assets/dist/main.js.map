{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/client/camera-manager.js","src/client/lib/orbital-controls.js","src/client/light-manager.js","src/client/main.js","src/client/planet.js","src/client/visual-manager.js"],"names":[],"mappings":"AAAA;ACAA;;AAEA,MAAM,eAAe,GAArB;;AAEA,MAAM,aAAN,CAAoB;AAClB,cAAY,KAAZ,EAAmB,YAAnB,EAAiC;AAC/B,SAAK,WAAL,GAAmB,YAAnB;AACA,UAAM,MAAM,EAAZ;AACA,UAAM,SAAS,OAAO,UAAP,GAAoB,OAAO,WAA1C;AACA,UAAM,OAAO,GAAb;AACA,UAAM,MAAM,KAAZ;;AAEA,SAAK,MAAL,GAAc,IAAI,MAAM,iBAAV,CAA4B,GAA5B,EAAiC,MAAjC,EAAyC,IAAzC,EAA+C,GAA/C,CAAd;;AAEA,SAAK,MAAL,CAAY,QAAZ,CAAqB,GAArB,CAAyB,CAAzB,EAA4B,GAA5B,EAAiC,GAAjC;AACA,UAAM,GAAN,CAAU,KAAK,MAAf;;AAGA,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,GAAyB,CAAzB;AACA,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,GAAyB,CAAC,GAA1B;;AAEA;AACA,SAAK,WAAL,GAAmB,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAK,WAAL,GAAmB,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAK,QAAL,GAAgB,KAAK,QAAL,CAAc,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAK,SAAL,GAAiB,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAAjB;AACA,SAAK,WAAL,GAAmB,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CAAnB;AACA,SAAK,YAAL,GAAoB,KAAK,YAAL,CAAkB,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAED,WAAS,CAAG;;AAEZ,2BAAyB;AACvB,MAAE,cAAF,EAAkB,IAAlB,CAAwB,IAAG,KAAK,MAAL,CAAY,QAAZ,CAAqB,CAAE,IAAG,KAAK,MAAL,CAAY,QAAZ,CAAqB,CAAE,IAAG,KAAK,MAAL,CAAY,QAAZ,CAAqB,CAAE,GAAtG;AACD;;AAED,gBAAc;AACZ,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,IAA0B,YAA1B;AACA,SAAK,sBAAL;AACD;;AAED,gBAAc;AACZ,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,IAA0B,YAA1B;AACA,SAAK,sBAAL;AACD;;AAED,aAAW;AACT,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,IAA0B,YAA1B;AACA,SAAK,sBAAL;AACD;;AAED,cAAY;AACV,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,IAA0B,YAA1B;AACA,SAAK,sBAAL;AACD;;AAED,gBAAc;AACZ,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,IAA0B,YAA1B;AACA,SAAK,sBAAL;AACD;;AAED,iBAAe;AACb,SAAK,MAAL,CAAY,QAAZ,CAAqB,CAArB,IAA0B,YAA1B;AACA,SAAK,sBAAL;AACD;AA5DiB;;AA+DpB,OAAO,OAAP,GAAiB,aAAjB;;;ACnEA;;;;;;;;AAQA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAM,aAAN,GAAsB,UAAW,MAAX,EAAmB,UAAnB,EAAgC;;AAEpD,OAAK,MAAL,GAAc,MAAd;;AAEA,OAAK,UAAL,GAAoB,eAAe,SAAjB,GAA+B,UAA/B,GAA4C,QAA9D;;AAEA;AACA,OAAK,OAAL,GAAe,IAAf;;AAEA;AACA,OAAK,MAAL,GAAc,IAAI,MAAM,OAAV,EAAd;;AAEA;AACA,OAAK,WAAL,GAAmB,CAAnB;AACA,OAAK,WAAL,GAAmB,QAAnB;;AAEA;AACA,OAAK,OAAL,GAAe,CAAf;AACA,OAAK,OAAL,GAAe,QAAf;;AAEA;AACA;AACA,OAAK,aAAL,GAAqB,CAArB,CAtBoD,CAsB5B;AACxB,OAAK,aAAL,GAAqB,KAAK,EAA1B,CAvBoD,CAuBtB;;AAE9B;AACA;AACA,OAAK,eAAL,GAAuB,CAAE,QAAzB,CA3BoD,CA2BjB;AACnC,OAAK,eAAL,GAAuB,QAAvB,CA5BoD,CA4BnB;;AAEjC;AACA;AACA,OAAK,aAAL,GAAqB,KAArB;AACA,OAAK,aAAL,GAAqB,IAArB;;AAEA;AACA;AACA,OAAK,UAAL,GAAkB,IAAlB;AACA,OAAK,SAAL,GAAiB,GAAjB;;AAEA;AACA,OAAK,YAAL,GAAoB,IAApB;AACA,OAAK,WAAL,GAAmB,GAAnB;;AAEA;AACA,OAAK,SAAL,GAAiB,IAAjB;AACA,OAAK,WAAL,GAAmB,GAAnB,CA9CoD,CA8C5B;;AAExB;AACA;AACA,OAAK,UAAL,GAAkB,KAAlB;AACA,OAAK,eAAL,GAAuB,GAAvB,CAnDoD,CAmDxB;;AAE5B;AACA,OAAK,UAAL,GAAkB,IAAlB;;AAEA;AACA,OAAK,IAAL,GAAY,EAAE,MAAM,EAAR,EAAY,IAAI,EAAhB,EAAoB,OAAO,EAA3B,EAA+B,QAAQ,EAAvC,EAAZ;;AAEA;AACA,OAAK,YAAL,GAAoB,EAAE,OAAO,MAAM,KAAN,CAAY,IAArB,EAA2B,MAAM,MAAM,KAAN,CAAY,MAA7C,EAAqD,KAAK,MAAM,KAAN,CAAY,KAAtE,EAApB;;AAEA;AACA,OAAK,OAAL,GAAe,KAAK,MAAL,CAAY,KAAZ,EAAf;AACA,OAAK,SAAL,GAAiB,KAAK,MAAL,CAAY,QAAZ,CAAqB,KAArB,EAAjB;AACA,OAAK,KAAL,GAAa,KAAK,MAAL,CAAY,IAAzB;;AAEA;AACA;AACA;;AAEA,OAAK,aAAL,GAAqB,YAAY;;AAE/B,WAAO,UAAU,GAAjB;AAED,GAJD;;AAMA,OAAK,iBAAL,GAAyB,YAAY;;AAEnC,WAAO,UAAU,KAAjB;AAED,GAJD;;AAMA,OAAK,SAAL,GAAiB,YAAY;;AAE3B,UAAM,OAAN,CAAc,IAAd,CAAoB,MAAM,MAA1B;AACA,UAAM,SAAN,CAAgB,IAAhB,CAAsB,MAAM,MAAN,CAAa,QAAnC;AACA,UAAM,KAAN,GAAc,MAAM,MAAN,CAAa,IAA3B;AAED,GAND;;AAQA,OAAK,KAAL,GAAa,YAAY;;AAEvB,UAAM,MAAN,CAAa,IAAb,CAAmB,MAAM,OAAzB;AACA,UAAM,MAAN,CAAa,QAAb,CAAsB,IAAtB,CAA4B,MAAM,SAAlC;AACA,UAAM,MAAN,CAAa,IAAb,GAAoB,MAAM,KAA1B;;AAEA,UAAM,MAAN,CAAa,sBAAb;AACA,UAAM,aAAN,CAAqB,WAArB;;AAEA,UAAM,MAAN;;AAEA,YAAQ,MAAM,IAAd;AAED,GAbD;;AAeA;AACA,OAAK,MAAL,GAAc,YAAY;;AAExB,QAAI,SAAS,IAAI,MAAM,OAAV,EAAb;;AAEA;AACA,QAAI,OAAO,IAAI,MAAM,UAAV,GAAuB,kBAAvB,CAA2C,OAAO,EAAlD,EAAsD,IAAI,MAAM,OAAV,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB,CAAtD,CAAX;AACA,QAAI,cAAc,KAAK,KAAL,GAAa,OAAb,EAAlB;;AAEA,QAAI,eAAe,IAAI,MAAM,OAAV,EAAnB;AACA,QAAI,iBAAiB,IAAI,MAAM,UAAV,EAArB;;AAEA,WAAO,SAAS,MAAT,GAAkB;;AAEvB,UAAI,WAAW,MAAM,MAAN,CAAa,QAA5B;;AAEA,aAAO,IAAP,CAAa,QAAb,EAAwB,GAAxB,CAA6B,MAAM,MAAnC;;AAEA;AACA,aAAO,eAAP,CAAwB,IAAxB;;AAEA;AACA,gBAAU,cAAV,CAA0B,MAA1B;;AAEA,UAAK,MAAM,UAAN,IAAoB,UAAU,MAAM,IAAzC,EAAgD;;AAE9C,mBAAY,sBAAZ;AAED;;AAED,gBAAU,KAAV,IAAmB,eAAe,KAAlC;AACA,gBAAU,GAAV,IAAiB,eAAe,GAAhC;;AAEA;AACA,gBAAU,KAAV,GAAkB,KAAK,GAAL,CAAU,MAAM,eAAhB,EAAiC,KAAK,GAAL,CAAU,MAAM,eAAhB,EAAiC,UAAU,KAA3C,CAAjC,CAAlB;;AAEA;AACA,gBAAU,GAAV,GAAgB,KAAK,GAAL,CAAU,MAAM,aAAhB,EAA+B,KAAK,GAAL,CAAU,MAAM,aAAhB,EAA+B,UAAU,GAAzC,CAA/B,CAAhB;;AAEA,gBAAU,QAAV;;AAGA,gBAAU,MAAV,IAAoB,KAApB;;AAEA;AACA,gBAAU,MAAV,GAAmB,KAAK,GAAL,CAAU,MAAM,WAAhB,EAA6B,KAAK,GAAL,CAAU,MAAM,WAAhB,EAA6B,UAAU,MAAvC,CAA7B,CAAnB;;AAEA;AACA,YAAM,MAAN,CAAa,GAAb,CAAkB,SAAlB;;AAEA,aAAO,gBAAP,CAAyB,SAAzB;;AAEA;AACA,aAAO,eAAP,CAAwB,WAAxB;;AAEA,eAAS,IAAT,CAAe,MAAM,MAArB,EAA8B,GAA9B,CAAmC,MAAnC;;AAEA,YAAM,MAAN,CAAa,MAAb,CAAqB,MAAM,MAA3B;;AAEA,UAAK,MAAM,aAAN,KAAwB,IAA7B,EAAoC;;AAElC,uBAAe,KAAf,IAA0B,IAAI,MAAM,aAApC;AACA,uBAAe,GAAf,IAAwB,IAAI,MAAM,aAAlC;AAED,OALD,MAKO;;AAEL,uBAAe,GAAf,CAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AAED;;AAED,cAAQ,CAAR;AACA,gBAAU,GAAV,CAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB;;AAEA;AACA;AACA;;AAEA,UAAK,eACH,aAAa,iBAAb,CAAgC,MAAM,MAAN,CAAa,QAA7C,IAA0D,GADvD,IAEH,KAAM,IAAI,eAAe,GAAf,CAAoB,MAAM,MAAN,CAAa,UAAjC,CAAV,IAA4D,GAF9D,EAEoE;;AAElE;;AAEA,qBAAa,IAAb,CAAmB,MAAM,MAAN,CAAa,QAAhC;AACA,uBAAe,IAAf,CAAqB,MAAM,MAAN,CAAa,UAAlC;AACA,sBAAc,KAAd;;AAEA,eAAO,IAAP;AAED;;AAED,aAAO,KAAP;AAED,KAjFD;AAmFD,GA9Fa,EAAd;;AAgGA,OAAK,OAAL,GAAe,YAAY;;AAEzB,UAAM,UAAN,CAAiB,mBAAjB,CAAsC,aAAtC,EAAqD,aAArD,EAAoE,KAApE;AACA,UAAM,UAAN,CAAiB,mBAAjB,CAAsC,WAAtC,EAAmD,WAAnD,EAAgE,KAAhE;AACA,UAAM,UAAN,CAAiB,mBAAjB,CAAsC,OAAtC,EAA+C,YAA/C,EAA6D,KAA7D;;AAEA,UAAM,UAAN,CAAiB,mBAAjB,CAAsC,YAAtC,EAAoD,YAApD,EAAkE,KAAlE;AACA,UAAM,UAAN,CAAiB,mBAAjB,CAAsC,UAAtC,EAAkD,UAAlD,EAA8D,KAA9D;AACA,UAAM,UAAN,CAAiB,mBAAjB,CAAsC,WAAtC,EAAmD,WAAnD,EAAgE,KAAhE;;AAEA,aAAS,mBAAT,CAA8B,WAA9B,EAA2C,WAA3C,EAAwD,KAAxD;AACA,aAAS,mBAAT,CAA8B,SAA9B,EAAyC,SAAzC,EAAoD,KAApD;;AAEA,WAAO,mBAAP,CAA4B,SAA5B,EAAuC,SAAvC,EAAkD,KAAlD;;AAEA;AAED,GAjBD;;AAmBA;AACA;AACA;;AAEA,MAAI,QAAQ,IAAZ;;AAEA,MAAI,cAAc,EAAE,MAAM,QAAR,EAAlB;AACA,MAAI,aAAa,EAAE,MAAM,OAAR,EAAjB;AACA,MAAI,WAAW,EAAE,MAAM,KAAR,EAAf;;AAEA,MAAI,QAAQ,EAAE,MAAM,CAAE,CAAV,EAAa,QAAQ,CAArB,EAAwB,OAAO,CAA/B,EAAkC,KAAK,CAAvC,EAA0C,cAAc,CAAxD,EAA2D,aAAa,CAAxE,EAA2E,WAAW,CAAtF,EAAZ;;AAEA,MAAI,QAAQ,MAAM,IAAlB;;AAEA,MAAI,MAAM,QAAV;;AAEA;AACA,MAAI,YAAY,IAAI,MAAM,SAAV,EAAhB;AACA,MAAI,iBAAiB,IAAI,MAAM,SAAV,EAArB;;AAEA,MAAI,QAAQ,CAAZ;AACA,MAAI,YAAY,IAAI,MAAM,OAAV,EAAhB;AACA,MAAI,cAAc,KAAlB;;AAEA,MAAI,cAAc,IAAI,MAAM,OAAV,EAAlB;AACA,MAAI,YAAY,IAAI,MAAM,OAAV,EAAhB;AACA,MAAI,cAAc,IAAI,MAAM,OAAV,EAAlB;;AAEA,MAAI,WAAW,IAAI,MAAM,OAAV,EAAf;AACA,MAAI,SAAS,IAAI,MAAM,OAAV,EAAb;AACA,MAAI,WAAW,IAAI,MAAM,OAAV,EAAf;;AAEA,MAAI,aAAa,IAAI,MAAM,OAAV,EAAjB;AACA,MAAI,WAAW,IAAI,MAAM,OAAV,EAAf;AACA,MAAI,aAAa,IAAI,MAAM,OAAV,EAAjB;;AAEA,WAAS,oBAAT,GAAgC;;AAE9B,WAAO,IAAI,KAAK,EAAT,GAAc,EAAd,GAAmB,EAAnB,GAAwB,MAAM,eAArC;AAED;;AAED,WAAS,YAAT,GAAwB;;AAEtB,WAAO,KAAK,GAAL,CAAU,IAAV,EAAgB,MAAM,SAAtB,CAAP;AAED;;AAED,WAAS,UAAT,CAAqB,KAArB,EAA6B;;AAE3B,mBAAe,KAAf,IAAwB,KAAxB;AAED;;AAED,WAAS,QAAT,CAAmB,KAAnB,EAA2B;;AAEzB,mBAAe,GAAf,IAAsB,KAAtB;AAED;;AAED,MAAI,UAAU,YAAY;;AAExB,QAAI,IAAI,IAAI,MAAM,OAAV,EAAR;;AAEA,WAAO,SAAS,OAAT,CAAkB,QAAlB,EAA4B,YAA5B,EAA2C;;AAEhD,QAAE,mBAAF,CAAuB,YAAvB,EAAqC,CAArC,EAFgD,CAEN;AAC1C,QAAE,cAAF,CAAkB,CAAE,QAApB;;AAEA,gBAAU,GAAV,CAAe,CAAf;AAED,KAPD;AASD,GAba,EAAd;;AAeA,MAAI,QAAQ,YAAY;;AAEtB,QAAI,IAAI,IAAI,MAAM,OAAV,EAAR;;AAEA,WAAO,SAAS,KAAT,CAAgB,QAAhB,EAA0B,YAA1B,EAAyC;;AAE9C,QAAE,mBAAF,CAAuB,YAAvB,EAAqC,CAArC,EAF8C,CAEJ;AAC1C,QAAE,cAAF,CAAkB,QAAlB;;AAEA,gBAAU,GAAV,CAAe,CAAf;AAED,KAPD;AASD,GAbW,EAAZ;;AAeA;AACA,MAAI,MAAM,YAAY;;AAEpB,QAAI,SAAS,IAAI,MAAM,OAAV,EAAb;;AAEA,WAAO,SAAS,GAAT,CAAc,MAAd,EAAsB,MAAtB,EAA+B;;AAEpC,UAAI,UAAU,MAAM,UAAN,KAAqB,QAArB,GAAgC,MAAM,UAAN,CAAiB,IAAjD,GAAwD,MAAM,UAA5E;;AAEA,UAAK,MAAM,MAAN,CAAa,mBAAlB,EAAwC;;AAEtC;AACA,YAAI,WAAW,MAAM,MAAN,CAAa,QAA5B;AACA,eAAO,IAAP,CAAa,QAAb,EAAwB,GAAxB,CAA6B,MAAM,MAAnC;AACA,YAAI,iBAAiB,OAAO,MAAP,EAArB;;AAEA;AACA,0BAAkB,KAAK,GAAL,CAAY,MAAM,MAAN,CAAa,GAAb,GAAmB,CAArB,GAA2B,KAAK,EAAhC,GAAqC,KAA/C,CAAlB;;AAEA;AACA,gBAAS,IAAI,MAAJ,GAAa,cAAb,GAA8B,QAAQ,YAA/C,EAA6D,MAAM,MAAN,CAAa,MAA1E;AACA,cAAO,IAAI,MAAJ,GAAa,cAAb,GAA8B,QAAQ,YAA7C,EAA2D,MAAM,MAAN,CAAa,MAAxE;AAED,OAdD,MAcO,IAAK,MAAM,MAAN,CAAa,oBAAlB,EAAyC;;AAE9C;AACA,gBAAS,UAAW,MAAM,MAAN,CAAa,KAAb,GAAqB,MAAM,MAAN,CAAa,IAA7C,IAAsD,MAAM,MAAN,CAAa,IAAnE,GAA0E,QAAQ,WAA3F,EAAwG,MAAM,MAAN,CAAa,MAArH;AACA,cAAO,UAAW,MAAM,MAAN,CAAa,GAAb,GAAmB,MAAM,MAAN,CAAa,MAA3C,IAAsD,MAAM,MAAN,CAAa,IAAnE,GAA0E,QAAQ,YAAzF,EAAuG,MAAM,MAAN,CAAa,MAApH;AAED,OANM,MAMA;;AAEL;AACA,gBAAQ,IAAR,CAAc,8EAAd;AACA,cAAM,SAAN,GAAkB,KAAlB;AAED;AAEF,KAhCD;AAkCD,GAtCS,EAAV;;AAwCA,WAAS,OAAT,CAAkB,UAAlB,EAA+B;;AAE7B,QAAK,MAAM,MAAN,CAAa,mBAAlB,EAAwC;;AAEtC,eAAS,UAAT;AAED,KAJD,MAIO,IAAK,MAAM,MAAN,CAAa,oBAAlB,EAAyC;;AAE9C,YAAM,MAAN,CAAa,IAAb,GAAoB,KAAK,GAAL,CAAU,MAAM,OAAhB,EAAyB,KAAK,GAAL,CAAU,MAAM,OAAhB,EAAyB,MAAM,MAAN,CAAa,IAAb,GAAoB,UAA7C,CAAzB,CAApB;AACA,YAAM,MAAN,CAAa,sBAAb;AACA,oBAAc,IAAd;AAED,KANM,MAMA;;AAEL,cAAQ,IAAR,CAAc,qFAAd;AACA,YAAM,UAAN,GAAmB,KAAnB;AAED;AAEF;;AAED,WAAS,QAAT,CAAmB,UAAnB,EAAgC;;AAE9B,QAAK,MAAM,MAAN,CAAa,mBAAlB,EAAwC;;AAEtC,eAAS,UAAT;AAED,KAJD,MAIO,IAAK,MAAM,MAAN,CAAa,oBAAlB,EAAyC;;AAE9C,YAAM,MAAN,CAAa,IAAb,GAAoB,KAAK,GAAL,CAAU,MAAM,OAAhB,EAAyB,KAAK,GAAL,CAAU,MAAM,OAAhB,EAAyB,MAAM,MAAN,CAAa,IAAb,GAAoB,UAA7C,CAAzB,CAApB;AACA,YAAM,MAAN,CAAa,sBAAb;AACA,oBAAc,IAAd;AAED,KANM,MAMA;;AAEL,cAAQ,IAAR,CAAc,qFAAd;AACA,YAAM,UAAN,GAAmB,KAAnB;AAED;AAEF;;AAED;AACA;AACA;;AAEA,WAAS,qBAAT,CAAgC,KAAhC,EAAwC;;AAEtC;;AAEA,gBAAY,GAAZ,CAAiB,MAAM,OAAvB,EAAgC,MAAM,OAAtC;AAED;;AAED,WAAS,oBAAT,CAA+B,KAA/B,EAAuC;;AAErC;;AAEA,eAAW,GAAX,CAAgB,MAAM,OAAtB,EAA+B,MAAM,OAArC;AAED;;AAED,WAAS,kBAAT,CAA6B,KAA7B,EAAqC;;AAEnC;;AAEA,aAAS,GAAT,CAAc,MAAM,OAApB,EAA6B,MAAM,OAAnC;AAED;;AAED,WAAS,qBAAT,CAAgC,KAAhC,EAAwC;;AAEtC;;AAEA,cAAU,GAAV,CAAe,MAAM,OAArB,EAA8B,MAAM,OAApC;AACA,gBAAY,UAAZ,CAAwB,SAAxB,EAAmC,WAAnC;;AAEA,QAAI,UAAU,MAAM,UAAN,KAAqB,QAArB,GAAgC,MAAM,UAAN,CAAiB,IAAjD,GAAwD,MAAM,UAA5E;;AAEA;AACA,eAAY,IAAI,KAAK,EAAT,GAAc,YAAY,CAA1B,GAA8B,QAAQ,WAAtC,GAAoD,MAAM,WAAtE;;AAEA;AACA,aAAU,IAAI,KAAK,EAAT,GAAc,YAAY,CAA1B,GAA8B,QAAQ,YAAtC,GAAqD,MAAM,WAArE;;AAEA,gBAAY,IAAZ,CAAkB,SAAlB;;AAEA,UAAM,MAAN;AAED;;AAED,WAAS,oBAAT,CAA+B,KAA/B,EAAuC;;AAErC;;AAEA,aAAS,GAAT,CAAc,MAAM,OAApB,EAA6B,MAAM,OAAnC;;AAEA,eAAW,UAAX,CAAuB,QAAvB,EAAiC,UAAjC;;AAEA,QAAK,WAAW,CAAX,GAAe,CAApB,EAAwB;;AAEtB,cAAS,cAAT;AAED,KAJD,MAIO,IAAK,WAAW,CAAX,GAAe,CAApB,EAAwB;;AAE7B,eAAU,cAAV;AAED;;AAED,eAAW,IAAX,CAAiB,QAAjB;;AAEA,UAAM,MAAN;AAED;;AAED,WAAS,kBAAT,CAA6B,KAA7B,EAAqC;;AAEnC;;AAEA,WAAO,GAAP,CAAY,MAAM,OAAlB,EAA2B,MAAM,OAAjC;;AAEA,aAAS,UAAT,CAAqB,MAArB,EAA6B,QAA7B;;AAEA,QAAK,SAAS,CAAd,EAAiB,SAAS,CAA1B;;AAEA,aAAS,IAAT,CAAe,MAAf;;AAEA,UAAM,MAAN;AAED;;AAED,WAAS,aAAT,CAAwB,KAAxB,EAAgC;;AAE9B;;AAED;;AAED,WAAS,gBAAT,CAA2B,KAA3B,EAAmC;;AAEjC;;AAEA,QAAK,MAAM,MAAN,GAAe,CAApB,EAAwB;;AAEtB,eAAU,cAAV;AAED,KAJD,MAIO,IAAK,MAAM,MAAN,GAAe,CAApB,EAAwB;;AAE7B,cAAS,cAAT;AAED;;AAED,UAAM,MAAN;AAED;;AAED,WAAS,aAAT,CAAwB,KAAxB,EAAgC;;AAE9B;;AAEA,YAAS,MAAM,OAAf;;AAEE,WAAK,MAAM,IAAN,CAAW,EAAhB;AACE,YAAK,CAAL,EAAQ,MAAM,WAAd;AACA,cAAM,MAAN;AACA;;AAEF,WAAK,MAAM,IAAN,CAAW,MAAhB;AACE,YAAK,CAAL,EAAQ,CAAE,MAAM,WAAhB;AACA,cAAM,MAAN;AACA;;AAEF,WAAK,MAAM,IAAN,CAAW,IAAhB;AACE,YAAK,MAAM,WAAX,EAAwB,CAAxB;AACA,cAAM,MAAN;AACA;;AAEF,WAAK,MAAM,IAAN,CAAW,KAAhB;AACE,YAAK,CAAE,MAAM,WAAb,EAA0B,CAA1B;AACA,cAAM,MAAN;AACA;;AApBJ;AAwBD;;AAED,WAAS,sBAAT,CAAiC,KAAjC,EAAyC;;AAEvC;;AAEA,gBAAY,GAAZ,CAAiB,MAAM,OAAN,CAAe,CAAf,EAAmB,KAApC,EAA2C,MAAM,OAAN,CAAe,CAAf,EAAmB,KAA9D;AAED;;AAED,WAAS,qBAAT,CAAgC,KAAhC,EAAwC;;AAEtC;;AAEA,QAAI,KAAK,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAnB,GAA2B,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAvD;AACA,QAAI,KAAK,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAnB,GAA2B,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAvD;;AAEA,QAAI,WAAW,KAAK,IAAL,CAAW,KAAK,EAAL,GAAU,KAAK,EAA1B,CAAf;;AAEA,eAAW,GAAX,CAAgB,CAAhB,EAAmB,QAAnB;AAED;;AAED,WAAS,mBAAT,CAA8B,KAA9B,EAAsC;;AAEpC;;AAEA,aAAS,GAAT,CAAc,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAjC,EAAwC,MAAM,OAAN,CAAe,CAAf,EAAmB,KAA3D;AAED;;AAED,WAAS,qBAAT,CAAgC,KAAhC,EAAwC;;AAEtC;;AAEA,cAAU,GAAV,CAAe,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAlC,EAAyC,MAAM,OAAN,CAAe,CAAf,EAAmB,KAA5D;AACA,gBAAY,UAAZ,CAAwB,SAAxB,EAAmC,WAAnC;;AAEA,QAAI,UAAU,MAAM,UAAN,KAAqB,QAArB,GAAgC,MAAM,UAAN,CAAiB,IAAjD,GAAwD,MAAM,UAA5E;;AAEA;AACA,eAAY,IAAI,KAAK,EAAT,GAAc,YAAY,CAA1B,GAA8B,QAAQ,WAAtC,GAAoD,MAAM,WAAtE;;AAEA;AACA,aAAU,IAAI,KAAK,EAAT,GAAc,YAAY,CAA1B,GAA8B,QAAQ,YAAtC,GAAqD,MAAM,WAArE;;AAEA,gBAAY,IAAZ,CAAkB,SAAlB;;AAEA,UAAM,MAAN;AAED;;AAED,WAAS,oBAAT,CAA+B,KAA/B,EAAuC;;AAErC;;AAEA,QAAI,KAAK,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAnB,GAA2B,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAvD;AACA,QAAI,KAAK,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAnB,GAA2B,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAvD;;AAEA,QAAI,WAAW,KAAK,IAAL,CAAW,KAAK,EAAL,GAAU,KAAK,EAA1B,CAAf;;AAEA,aAAS,GAAT,CAAc,CAAd,EAAiB,QAAjB;;AAEA,eAAW,UAAX,CAAuB,QAAvB,EAAiC,UAAjC;;AAEA,QAAK,WAAW,CAAX,GAAe,CAApB,EAAwB;;AAEtB,eAAU,cAAV;AAED,KAJD,MAIO,IAAK,WAAW,CAAX,GAAe,CAApB,EAAwB;;AAE7B,cAAS,cAAT;AAED;;AAED,eAAW,IAAX,CAAiB,QAAjB;;AAEA,UAAM,MAAN;AAED;;AAED,WAAS,kBAAT,CAA6B,KAA7B,EAAqC;;AAEnC;;AAEA,WAAO,GAAP,CAAY,MAAM,OAAN,CAAe,CAAf,EAAmB,KAA/B,EAAsC,MAAM,OAAN,CAAe,CAAf,EAAmB,KAAzD;;AAEA,aAAS,UAAT,CAAqB,MAArB,EAA6B,QAA7B;;AAEA,QAAK,SAAS,CAAd,EAAiB,SAAS,CAA1B;;AAEA,aAAS,IAAT,CAAe,MAAf;;AAEA,UAAM,MAAN;AAED;;AAED,WAAS,cAAT,CAAyB,KAAzB,EAAiC,CAIhC;;AAFC;;AAIF;AACA;AACA;;AAEA,WAAS,WAAT,CAAsB,KAAtB,EAA8B;;AAE5B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,UAAM,cAAN;;AAEA,YAAS,MAAM,MAAf;;AAEE,WAAK,MAAM,YAAN,CAAmB,KAAxB;;AAEE,YAAK,MAAM,YAAN,KAAuB,KAA5B,EAAoC;;AAEpC,8BAAuB,KAAvB;;AAEA,gBAAQ,MAAM,MAAd;;AAEA;;AAEF,WAAK,MAAM,YAAN,CAAmB,IAAxB;;AAEE,YAAK,MAAM,UAAN,KAAqB,KAA1B,EAAkC;;AAElC,6BAAsB,KAAtB;;AAEA,gBAAQ,MAAM,KAAd;;AAEA;;AAEF,WAAK,MAAM,YAAN,CAAmB,GAAxB;;AAEE,YAAK,MAAM,SAAN,KAAoB,KAAzB,EAAiC;;AAEjC,2BAAoB,KAApB;;AAEA,gBAAQ,MAAM,GAAd;;AAEA;;AA9BJ;;AAkCA,QAAK,UAAU,MAAM,IAArB,EAA4B;;AAE1B,eAAS,gBAAT,CAA2B,WAA3B,EAAwC,WAAxC,EAAqD,KAArD;AACA,eAAS,gBAAT,CAA2B,SAA3B,EAAsC,SAAtC,EAAiD,KAAjD;;AAEA;AAED;AAEF;;AAED,WAAS,WAAT,CAAsB,KAAtB,EAA8B;;AAE5B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,UAAM,cAAN;;AAEA,YAAS,KAAT;;AAEE,WAAK,MAAM,MAAX;;AAEE,YAAK,MAAM,YAAN,KAAuB,KAA5B,EAAoC;;AAEpC,8BAAuB,KAAvB;;AAEA;;AAEF,WAAK,MAAM,KAAX;;AAEE,YAAK,MAAM,UAAN,KAAqB,KAA1B,EAAkC;;AAElC,6BAAsB,KAAtB;;AAEA;;AAEF,WAAK,MAAM,GAAX;;AAEE,YAAK,MAAM,SAAN,KAAoB,KAAzB,EAAiC;;AAEjC,2BAAoB,KAApB;;AAEA;;AAxBJ;AA4BD;;AAED,WAAS,SAAT,CAAoB,KAApB,EAA4B;;AAE1B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,kBAAe,KAAf;;AAEA,aAAS,mBAAT,CAA8B,WAA9B,EAA2C,WAA3C,EAAwD,KAAxD;AACA,aAAS,mBAAT,CAA8B,SAA9B,EAAyC,SAAzC,EAAoD,KAApD;;AAEA;;AAEA,YAAQ,MAAM,IAAd;AAED;;AAED,WAAS,YAAT,CAAuB,KAAvB,EAA+B;;AAE7B,QAAK,MAAM,OAAN,KAAkB,KAAlB,IAA2B,MAAM,UAAN,KAAqB,KAAhD,IAA2D,UAAU,MAAM,IAAhB,IAAwB,UAAU,MAAM,MAAxG,EAAmH;;AAEnH,UAAM,cAAN;AACA,UAAM,eAAN;;AAEA,qBAAkB,KAAlB;;AAEA;AACA;AAED;;AAED,WAAS,SAAT,CAAoB,KAApB,EAA4B;;AAE1B,QAAK,MAAM,OAAN,KAAkB,KAAlB,IAA2B,MAAM,UAAN,KAAqB,KAAhD,IAAyD,MAAM,SAAN,KAAoB,KAAlF,EAA0F;;AAE1F,kBAAe,KAAf;AAED;;AAED,WAAS,YAAT,CAAuB,KAAvB,EAA+B;;AAE7B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,YAAS,MAAM,OAAN,CAAc,MAAvB;;AAEE,WAAK,CAAL;AAAQ;;AAEN,YAAK,MAAM,YAAN,KAAuB,KAA5B,EAAoC;;AAEpC,+BAAwB,KAAxB;;AAEA,gBAAQ,MAAM,YAAd;;AAEA;;AAEF,WAAK,CAAL;AAAQ;;AAEN,YAAK,MAAM,UAAN,KAAqB,KAA1B,EAAkC;;AAElC,8BAAuB,KAAvB;;AAEA,gBAAQ,MAAM,WAAd;;AAEA;;AAEF,WAAK,CAAL;AAAQ;;AAEN,YAAK,MAAM,SAAN,KAAoB,KAAzB,EAAiC;;AAEjC,4BAAqB,KAArB;;AAEA,gBAAQ,MAAM,SAAd;;AAEA;;AAEF;;AAEE,gBAAQ,MAAM,IAAd;;AAlCJ;;AAsCA,QAAK,UAAU,MAAM,IAArB,EAA4B;;AAE1B;;AAED;AAEF;;AAED,WAAS,WAAT,CAAsB,KAAtB,EAA8B;;AAE5B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,UAAM,cAAN;AACA,UAAM,eAAN;;AAEA,YAAS,MAAM,OAAN,CAAc,MAAvB;;AAEE,WAAK,CAAL;AAAQ;;AAEN,YAAK,MAAM,YAAN,KAAuB,KAA5B,EAAoC;AACpC,YAAK,UAAU,MAAM,YAArB,EAAoC,OAHtC,CAG8C;;AAE5C,8BAAuB,KAAvB;;AAEA;;AAEF,WAAK,CAAL;AAAQ;;AAEN,YAAK,MAAM,UAAN,KAAqB,KAA1B,EAAkC;AAClC,YAAK,UAAU,MAAM,WAArB,EAAmC,OAHrC,CAG6C;;AAE3C,6BAAsB,KAAtB;;AAEA;;AAEF,WAAK,CAAL;AAAQ;;AAEN,YAAK,MAAM,SAAN,KAAoB,KAAzB,EAAiC;AACjC,YAAK,UAAU,MAAM,SAArB,EAAiC,OAHnC,CAG2C;;AAEzC,2BAAoB,KAApB;;AAEA;;AAEF;;AAEE,gBAAQ,MAAM,IAAd;;AA/BJ;AAmCD;;AAED,WAAS,UAAT,CAAqB,KAArB,EAA6B;;AAE3B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,mBAAgB,KAAhB;;AAEA;;AAEA,YAAQ,MAAM,IAAd;AAED;;AAED,WAAS,aAAT,CAAwB,KAAxB,EAAgC;;AAE9B,QAAK,MAAM,OAAN,KAAkB,KAAvB,EAA+B;;AAE/B,UAAM,cAAN;AAED;;AAED;;AAEA,QAAM,UAAN,CAAiB,gBAAjB,CAAmC,aAAnC,EAAkD,aAAlD,EAAiE,KAAjE;;AAEA,QAAM,UAAN,CAAiB,gBAAjB,CAAmC,WAAnC,EAAgD,WAAhD,EAA6D,KAA7D;AACA,QAAM,UAAN,CAAiB,gBAAjB,CAAmC,OAAnC,EAA4C,YAA5C,EAA0D,KAA1D;;AAEA,QAAM,UAAN,CAAiB,gBAAjB,CAAmC,YAAnC,EAAiD,YAAjD,EAA+D,KAA/D;AACA,QAAM,UAAN,CAAiB,gBAAjB,CAAmC,UAAnC,EAA+C,UAA/C,EAA2D,KAA3D;AACA,QAAM,UAAN,CAAiB,gBAAjB,CAAmC,WAAnC,EAAgD,WAAhD,EAA6D,KAA7D;;AAEA,SAAO,gBAAP,CAAyB,SAAzB,EAAoC,SAApC,EAA+C,KAA/C;;AAEA;;AAEA,OAAK,MAAL;AAED,CAl4BD;;AAo4BA,MAAM,aAAN,CAAoB,SAApB,GAAgC,OAAO,MAAP,CAAe,MAAM,eAAN,CAAsB,SAArC,CAAhC;AACA,MAAM,aAAN,CAAoB,SAApB,CAA8B,WAA9B,GAA4C,MAAM,aAAlD;;AAEA,OAAO,gBAAP,CAAyB,MAAM,aAAN,CAAoB,SAA7C,EAAwD;;AAEtD,UAAQ;;AAEN,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,0DAAd;AACA,aAAO,KAAK,MAAZ;AAED;;AAPK,GAF8C;;AAatD;;AAEA,UAAQ;;AAEN,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,4EAAd;AACA,aAAO,CAAE,KAAK,UAAd;AAED,KAPK;;AASN,SAAK,UAAW,KAAX,EAAmB;;AAEtB,cAAQ,IAAR,CAAc,4EAAd;AACA,WAAK,UAAL,GAAkB,CAAE,KAApB;AAED;;AAdK,GAf8C;;AAiCtD,YAAU;;AAER,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,gFAAd;AACA,aAAO,CAAE,KAAK,YAAd;AAED,KAPO;;AASR,SAAK,UAAW,KAAX,EAAmB;;AAEtB,cAAQ,IAAR,CAAc,gFAAd;AACA,WAAK,YAAL,GAAoB,CAAE,KAAtB;AAED;;AAdO,GAjC4C;;AAmDtD,SAAO;;AAEL,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,0EAAd;AACA,aAAO,CAAE,KAAK,SAAd;AAED,KAPI;;AASL,SAAK,UAAW,KAAX,EAAmB;;AAEtB,cAAQ,IAAR,CAAc,0EAAd;AACA,WAAK,SAAL,GAAiB,CAAE,KAAnB;AAED;;AAdI,GAnD+C;;AAqEtD,UAAQ;;AAEN,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,4EAAd;AACA,aAAO,CAAE,KAAK,UAAd;AAED,KAPK;;AASN,SAAK,UAAW,KAAX,EAAmB;;AAEtB,cAAQ,IAAR,CAAc,4EAAd;AACA,WAAK,UAAL,GAAkB,CAAE,KAApB;AAED;;AAdK,GArE8C;;AAuFtD,gBAAc;;AAEZ,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,qFAAd;AACA,aAAO,CAAE,KAAK,aAAd;AAED,KAPW;;AASZ,SAAK,UAAW,KAAX,EAAmB;;AAEtB,cAAQ,IAAR,CAAc,qFAAd;AACA,WAAK,aAAL,GAAqB,CAAE,KAAvB;AAED;;AAdW,GAvFwC;;AAyGtD,wBAAsB;;AAEpB,SAAK,YAAY;;AAEf,cAAQ,IAAR,CAAc,0FAAd;AACA,aAAO,KAAK,aAAZ;AAED,KAPmB;;AASpB,SAAK,UAAW,KAAX,EAAmB;;AAEtB,cAAQ,IAAR,CAAc,0FAAd;AACA,WAAK,aAAL,GAAqB,KAArB;AAED;;AAdmB;;AAzGgC,CAAxD;;;ACt5BA;;AAEA,MAAM,YAAN,CAAmB;AACjB,cAAY,KAAZ,EAAmB;AACjB,SAAK,KAAL,GAAa,KAAb;AACA,SAAK,KAAL,CAAW,GAAX,CAAe,IAAI,MAAM,YAAV,CAAuB,QAAvB,EAAiC,GAAjC,CAAf;;AAEA,SAAK,KAAL,GAAa,IAAI,MAAM,gBAAV,CAA2B,QAA3B,EAAqC,GAArC,CAAb;AACA,SAAK,KAAL,CAAW,QAAX,CAAoB,CAApB,GAAwB,EAAxB;AACA,SAAK,KAAL,CAAW,QAAX,CAAoB,CAApB,GAAwB,GAAxB;AACA,SAAK,KAAL,CAAW,QAAX,CAAoB,CAApB,GAAwB,EAAxB;AACA,SAAK,KAAL,CAAW,IAAX,GAAkB,UAAlB;;AAEA,SAAK,KAAL,CAAW,GAAX,CAAe,KAAK,KAApB;AACA,SAAK,KAAL,CAAW,UAAX,GAAwB,IAAxB;AACD;AAbgB;;AAgBnB,OAAO,OAAP,GAAiB,YAAjB;;;AClBA;;AAEA,MAAM,gBAAgB,QAAQ,kBAAR,CAAtB;;AAEA,EAAE,QAAF,EAAY,KAAZ,CAAkB,MAAM;AACtB,QAAM,gBAAgB,IAAI,aAAJ,EAAtB;AACA,gBAAc,UAAd;AACD,CAHD;;;ACJA;;AAEA,MAAM,kBAAkB,KAAxB;;AAEA,MAAM,MAAN,CAAa;AACX,cAAY,MAAZ,EAAoB;AAClB,SAAK,KAAL,GAAa,MAAb;AACA,SAAK,YAAL;AACD;;AAED,iBAAe;AACb,UAAM,iBAAiB,IAAI,MAAM,WAAV,CAAsB,EAAtB,EAA0B,EAA1B,EAA8B,EAA9B,CAAvB;AACA,UAAM,iBAAiB,IAAI,MAAM,iBAAV,CAA4B,EAAE,OAAO,MAAT,EAAiB,MAAM,MAAM,QAA7B,EAA5B,CAAvB;AACA,mBAAe,GAAf,GAAqB,MAAM,UAAN,CAAiB,WAAjB,CAA6B,8BAA7B,CAArB;AACA,UAAM,SAAS,IAAI,MAAM,IAAV,CAAe,cAAf,EAA+B,cAA/B,CAAf;AACA,SAAK,KAAL,CAAW,GAAX,CAAe,MAAf;AACD;;AAED,eAAa;AACX,SAAK,eAAL;AACA,SAAK,kBAAL;AACD;;AAED,oBAAkB;AAChB,UAAM,oBAAoB,IAAI,MAAM,cAAV,CAAyB,GAAzB,EAA8B,EAA9B,EAAkC,EAAlC,CAA1B;AACA,UAAM,WAAW,IAAI,MAAM,iBAAV,EAAjB;AACA,SAAK,SAAL,GAAiB,IAAI,MAAM,IAAV,CAAe,iBAAf,EAAkC,QAAlC,CAAjB;;AAEA,aAAS,GAAT,GAAe,MAAM,UAAN,CAAiB,WAAjB,CAA6B,wCAA7B,CAAf;AACA,aAAS,OAAT,GAAmB,MAAM,UAAN,CAAiB,WAAjB,CAA6B,yCAA7B,CAAnB;AACA,aAAS,WAAT,GAAuB,MAAM,UAAN,CAAiB,WAAjB,CAA6B,yCAA7B,CAAvB;;AAEA,aAAS,SAAT,GAAqB,IAArB;AACA,aAAS,QAAT,GAAoB,IAAI,MAAM,KAAV,CAAgB,MAAhB,CAApB;;AAEA,SAAK,KAAL,CAAW,GAAX,CAAe,KAAK,SAApB;AACD;;AAED,uBAAqB;AACnB,UAAM,gBAAgB,IAAI,MAAM,cAAV,CAAyB,IAAzB,EAA+B,EAA/B,EAAmC,EAAnC,CAAtB;AACA,UAAM,cAAc,oCAApB;;AAEA,SAAK,aAAL,GAAqB,IAAI,MAAM,cAAV,CAAyB;AAC5C,gBAAU;AACR,uBAAe,EAAE,MAAM,GAAR,EAAa,OAAO,MAAM,UAAN,CAAiB,WAAjB,CAA6B,WAA7B,CAApB,EADP;AAER,cAAM,EAAE,MAAM,GAAR,EAAa,OAAO,GAApB,EAFE;AAGR,eAAO,EAAE,MAAM,IAAR,EAAc,OAAO,IAAI,MAAM,OAAV,CAAkB,GAAlB,EAAuB,GAAvB,CAArB;AAHC,OADkC;AAM5C,gBAAU,MAAM,cAN4B;AAO5C,iBAAW,IAPiC;AAQ5C,mBAAa,IAR+B;;AAU5C,oBAAc,SAAS,cAAT,CAAwB,cAAxB,EAAwC,WAVV;AAW5C,sBAAgB,SAAS,cAAT,CAAwB,uBAAxB,EAAiD;AAXrB,KAAzB,CAArB;;AAcA,SAAK,SAAL,GAAiB,IAAI,MAAM,IAAV,CAAe,aAAf,EAA8B,KAAK,aAAnC,CAAjB;AACA,SAAK,KAAL,CAAW,GAAX,CAAe,KAAK,SAApB;AACD;;AAED,WAAS;AACP,QAAI,eAAJ,EAAqB;AACnB,WAAK,SAAL,CAAe,QAAf,CAAwB,CAAxB,IAA6B,KAA7B;AACA,WAAK,SAAL,CAAe,QAAf,CAAwB,CAAxB,IAA6B,KAA7B;AACA;AACD;;AAED;AACA,SAAK,aAAL,CAAmB,QAAnB,CAA4B,IAA5B,CAAiC,KAAjC,IAA0C,MAA1C;AACD;AAjEU;;AAoEb,OAAO,OAAP,GAAiB,MAAjB;;;ACxEA;;AAEA,MAAM,eAAe,QAAQ,iBAAR,CAArB;AACA,MAAM,gBAAgB,QAAQ,kBAAR,CAAtB;AACA,MAAM,SAAS,QAAQ,UAAR,CAAf;AACA,QAAQ,wBAAR;;AAEA,MAAM,WAAW,EAAjB;;AAEA,MAAM,qBAAqB,cAA3B;AACA,MAAM,YAAY,gBAAlB;;AAEA,IAAI,aAAJ;;AAEA,MAAM,aAAN,CAAoB;AAClB,gBAAc;AACZ,SAAK,QAAL,GAAgB,IAAhB;AACD;;AAED,eAAa;AACX,oBAAgB,IAAhB;AACA,SAAK,QAAL,GAAgB,IAAhB;AACA,SAAK,KAAL,GAAa,IAAI,MAAM,KAAV,EAAb;AACA,SAAK,mBAAL,GAA2B,EAA3B;AACA,SAAK,KAAL,GAAa,CAAb;AACA,SAAK,SAAL,GAAiB,OAAO,QAAxB;AACA,SAAK,YAAL,GAAoB,EAApB;AACA,SAAK,YAAL,GAAqB,IAAI,IAAJ,EAAD,CAAa,OAAb,EAApB;;AAEA,SAAK,MAAL,GAAc,IAAI,MAAJ,CAAW,KAAK,KAAhB,CAAd;AACA,SAAK,YAAL,GAAoB,IAAI,YAAJ,CAAiB,KAAK,KAAtB,CAApB;AACA,SAAK,aAAL,GAAqB,IAAI,aAAJ,CAAkB,KAAK,KAAvB,EAA8B,IAA9B,CAArB;AACA,SAAK,kBAAL;;AAEA,SAAK,MAAL,CAAY,UAAZ;AACA,SAAK,MAAL;AACD;;AAED,uBAAqB;AACnB,UAAM,gBAAgB,SAAS,cAAT,CAAwB,SAAxB,CAAtB;AACA,SAAK,QAAL,GAAgB,IAAI,MAAM,aAAV,CAAwB,EAAE,WAAW,IAAb,EAAmB,QAAQ,aAA3B,EAAxB,CAAhB;;AAEA,SAAK,QAAL,CAAc,OAAd,CAAsB,OAAO,UAA7B,EAAyC,OAAO,WAAhD;AACA,SAAK,QAAL,CAAc,aAAd,CAA4B,QAA5B,EAAsC,CAAtC;;AAEA,SAAK,QAAL,CAAc,aAAd,GAA8B,MAAM,gBAApC;AACA,SAAK,QAAL,CAAc,gBAAd,GAAiC,IAAjC;AACA,SAAK,QAAL,CAAc,aAAd,GAA8B,KAA9B;;AAEA,SAAK,QAAL,CAAc,gBAAd,GAAiC,CAAjC;AACA,SAAK,QAAL,CAAc,eAAd,GAAgC,KAAK,aAAL,CAAmB,GAAnD;AACA,SAAK,QAAL,CAAc,eAAd,GAAgC,EAAhC;;AAEA,SAAK,QAAL,CAAc,aAAd,GAA8B,MAA9B;AACA,SAAK,QAAL,CAAc,iBAAd,GAAkC,GAAlC;AACA,SAAK,QAAL,CAAc,cAAd,GAA+B,IAA/B;AACA,SAAK,QAAL,CAAc,eAAd,GAAgC,IAAhC;;AAEA,aAAS,cAAT,CAAwB,kBAAxB,EAA4C,WAA5C,CAAwD,KAAK,QAAL,CAAc,UAAtE;;AAEA,aAAS,IAAT,CAAc,aAAd,GAA8B,MAAM,KAApC;AACA,UAAM,aAAN,CAAoB,KAAK,aAAL,CAAmB,MAAvC,EAA+C,aAA/C;;AAEA,WAAO,gBAAP,CAAwB,QAAxB,EAAkC,MAAM;AACtC,WAAK,aAAL,CAAmB,MAAnB,CAA0B,MAA1B,GAAmC,OAAO,UAAP,GAAoB,OAAO,WAA9D;AACA,WAAK,aAAL,CAAmB,MAAnB,CAA0B,sBAA1B;AACA,WAAK,QAAL,CAAc,OAAd,CAAsB,OAAO,UAA7B,EAAyC,OAAO,WAAhD;AACD,KAJD,EAIG,KAJH;AAKD;;AAED,WAAS;AACP;AACA,0BAAsB,cAAc,MAApC;AACA,kBAAc,YAAd;AACA,kBAAc,QAAd,CAAuB,MAAvB,CAA8B,cAAc,KAA5C,EAAmD,cAAc,aAAd,CAA4B,MAA/E;AACD;;AAED,iBAAe;AACb,kBAAc,KAAd,GAAsB,CAAtB;AACA,WAAS,IAAI,IAAJ,EAAD,CAAa,OAAb,KAAyB,cAAc,YAAxC,IACF,cAAc,KAAd,GAAsB,cAAc,YADzC,EACwD;AACtD,oBAAc,MAAd;AACA,oBAAc,YAAd,IAA8B,cAAc,SAA5C;AACA,oBAAc,KAAd,IAAuB,CAAvB;AACD;;AAED;AACA,QAAI,cAAc,KAAd,GAAsB,CAA1B,EAA6B;AAC3B,WAAK,YAAL;AACD;AACF;;AAED,WAAS;AACP,SAAK,aAAL,CAAmB,MAAnB;AACA,SAAK,MAAL,CAAY,MAAZ;AACD;AAjFiB;;AAoFpB,OAAO,OAAP,GAAiB,aAAjB","file":"main.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nconst CAMERA_SPEED = 0.1;\n\nclass CameraManager {\n  constructor(scene, _gameManager) {\n    this.gameManager = _gameManager;\n    const fov = 60;\n    const aspect = window.innerWidth / window.innerHeight;\n    const near = 0.1;\n    const far = 10000;\n\n    this.camera = new THREE.PerspectiveCamera(fov, aspect, near, far);\n\n    this.camera.position.set(0, 1.5, 1.2);\n    scene.add(this.camera);\n\n\n    this.camera.rotation.x = 0;\n    this.camera.rotation.x = -0.9;\n\n    // Bind functions\n    this.raiseCamera = this.raiseCamera.bind(this);\n    this.lowerCamera = this.lowerCamera.bind(this);\n    this.moveLeft = this.moveLeft.bind(this);\n    this.moveRight = this.moveRight.bind(this);\n    this.moveForward = this.moveForward.bind(this);\n    this.moveBackward = this.moveBackward.bind(this);\n  }\n\n  update() { }\n\n  _updateCameraDebugInfo() {\n    $('#camera-data').html(`(${this.camera.position.x},${this.camera.position.y},${this.camera.position.z})`);\n  }\n\n  raiseCamera() {\n    this.camera.position.y += CAMERA_SPEED;\n    this._updateCameraDebugInfo();\n  }\n\n  lowerCamera() {\n    this.camera.position.y -= CAMERA_SPEED;\n    this._updateCameraDebugInfo();\n  }\n\n  moveLeft() {\n    this.camera.position.x -= CAMERA_SPEED;\n    this._updateCameraDebugInfo();\n  }\n\n  moveRight() {\n    this.camera.position.x += CAMERA_SPEED;\n    this._updateCameraDebugInfo();\n  }\n\n  moveForward() {\n    this.camera.position.z -= CAMERA_SPEED;\n    this._updateCameraDebugInfo();\n  }\n\n  moveBackward() {\n    this.camera.position.z += CAMERA_SPEED;\n    this._updateCameraDebugInfo();\n  }\n}\n\nmodule.exports = CameraManager;\n","/**\n * @author qiao / https://github.com/qiao\n * @author mrdoob / http://mrdoob.com\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author erich666 / http://erichaines.com\n */\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one finger move\n//    Zoom - middle mouse, or mousewheel / touch: two finger spread or squish\n//    Pan - right mouse, or arrow keys / touch: three finger swipe\n\nTHREE.OrbitControls = function ( object, domElement ) {\n\n  this.object = object;\n\n  this.domElement = ( domElement !== undefined ) ? domElement : document;\n\n  // Set to false to disable this control\n  this.enabled = true;\n\n  // \"target\" sets the location of focus, where the object orbits around\n  this.target = new THREE.Vector3();\n\n  // How far you can dolly in and out ( PerspectiveCamera only )\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n\n  // How far you can zoom in and out ( OrthographicCamera only )\n  this.minZoom = 0;\n  this.maxZoom = Infinity;\n\n  // How far you can orbit vertically, upper and lower limits.\n  // Range is 0 to Math.PI radians.\n  this.minPolarAngle = 0; // radians\n  this.maxPolarAngle = Math.PI; // radians\n\n  // How far you can orbit horizontally, upper and lower limits.\n  // If set, must be a sub-interval of the interval [ - Math.PI, Math.PI ].\n  this.minAzimuthAngle = - Infinity; // radians\n  this.maxAzimuthAngle = Infinity; // radians\n\n  // Set to true to enable damping (inertia)\n  // If damping is enabled, you must call controls.update() in your animation loop\n  this.enableDamping = false;\n  this.dampingFactor = 0.25;\n\n  // This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n  // Set to false to disable zooming\n  this.enableZoom = true;\n  this.zoomSpeed = 1.0;\n\n  // Set to false to disable rotating\n  this.enableRotate = true;\n  this.rotateSpeed = 1.0;\n\n  // Set to false to disable panning\n  this.enablePan = true;\n  this.keyPanSpeed = 7.0; // pixels moved per arrow key push\n\n  // Set to true to automatically rotate around the target\n  // If auto-rotate is enabled, you must call controls.update() in your animation loop\n  this.autoRotate = false;\n  this.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n  // Set to false to disable use of the keys\n  this.enableKeys = true;\n\n  // The four arrow keys\n  this.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n  // Mouse buttons\n  this.mouseButtons = { ORBIT: THREE.MOUSE.LEFT, ZOOM: THREE.MOUSE.MIDDLE, PAN: THREE.MOUSE.RIGHT };\n\n  // for reset\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.zoom0 = this.object.zoom;\n\n  //\n  // public methods\n  //\n\n  this.getPolarAngle = function () {\n\n    return spherical.phi;\n\n  };\n\n  this.getAzimuthalAngle = function () {\n\n    return spherical.theta;\n\n  };\n\n  this.saveState = function () {\n\n    scope.target0.copy( scope.target );\n    scope.position0.copy( scope.object.position );\n    scope.zoom0 = scope.object.zoom;\n\n  };\n\n  this.reset = function () {\n\n    scope.target.copy( scope.target0 );\n    scope.object.position.copy( scope.position0 );\n    scope.object.zoom = scope.zoom0;\n\n    scope.object.updateProjectionMatrix();\n    scope.dispatchEvent( changeEvent );\n\n    scope.update();\n\n    state = STATE.NONE;\n\n  };\n\n  // this method is exposed, but perhaps it would be better if we can make it private...\n  this.update = function () {\n\n    var offset = new THREE.Vector3();\n\n    // so camera.up is the orbit axis\n    var quat = new THREE.Quaternion().setFromUnitVectors( object.up, new THREE.Vector3( 0, 1, 0 ) );\n    var quatInverse = quat.clone().inverse();\n\n    var lastPosition = new THREE.Vector3();\n    var lastQuaternion = new THREE.Quaternion();\n\n    return function update() {\n\n      var position = scope.object.position;\n\n      offset.copy( position ).sub( scope.target );\n\n      // rotate offset to \"y-axis-is-up\" space\n      offset.applyQuaternion( quat );\n\n      // angle from z-axis around y-axis\n      spherical.setFromVector3( offset );\n\n      if ( scope.autoRotate && state === STATE.NONE ) {\n\n        rotateLeft( getAutoRotationAngle() );\n\n      }\n\n      spherical.theta += sphericalDelta.theta;\n      spherical.phi += sphericalDelta.phi;\n\n      // restrict theta to be between desired limits\n      spherical.theta = Math.max( scope.minAzimuthAngle, Math.min( scope.maxAzimuthAngle, spherical.theta ) );\n\n      // restrict phi to be between desired limits\n      spherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n      spherical.makeSafe();\n\n\n      spherical.radius *= scale;\n\n      // restrict radius to be between desired limits\n      spherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n      // move target to panned location\n      scope.target.add( panOffset );\n\n      offset.setFromSpherical( spherical );\n\n      // rotate offset back to \"camera-up-vector-is-up\" space\n      offset.applyQuaternion( quatInverse );\n\n      position.copy( scope.target ).add( offset );\n\n      scope.object.lookAt( scope.target );\n\n      if ( scope.enableDamping === true ) {\n\n        sphericalDelta.theta *= ( 1 - scope.dampingFactor );\n        sphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n      } else {\n\n        sphericalDelta.set( 0, 0, 0 );\n\n      }\n\n      scale = 1;\n      panOffset.set( 0, 0, 0 );\n\n      // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      if ( zoomChanged ||\n        lastPosition.distanceToSquared( scope.object.position ) > EPS ||\n        8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n        // scope.dispatchEvent( changeEvent );\n\n        lastPosition.copy( scope.object.position );\n        lastQuaternion.copy( scope.object.quaternion );\n        zoomChanged = false;\n\n        return true;\n\n      }\n\n      return false;\n\n    };\n\n  }();\n\n  this.dispose = function () {\n\n    scope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n    scope.domElement.removeEventListener( 'mousedown', onMouseDown, false );\n    scope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n    scope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n    scope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n    scope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    window.removeEventListener( 'keydown', onKeyDown, false );\n\n    //scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n  };\n\n  //\n  // internals\n  //\n\n  var scope = this;\n\n  var changeEvent = { type: 'change' };\n  var startEvent = { type: 'start' };\n  var endEvent = { type: 'end' };\n\n  var STATE = { NONE: - 1, ROTATE: 0, DOLLY: 1, PAN: 2, TOUCH_ROTATE: 3, TOUCH_DOLLY: 4, TOUCH_PAN: 5 };\n\n  var state = STATE.NONE;\n\n  var EPS = 0.000001;\n\n  // current position in spherical coordinates\n  var spherical = new THREE.Spherical();\n  var sphericalDelta = new THREE.Spherical();\n\n  var scale = 1;\n  var panOffset = new THREE.Vector3();\n  var zoomChanged = false;\n\n  var rotateStart = new THREE.Vector2();\n  var rotateEnd = new THREE.Vector2();\n  var rotateDelta = new THREE.Vector2();\n\n  var panStart = new THREE.Vector2();\n  var panEnd = new THREE.Vector2();\n  var panDelta = new THREE.Vector2();\n\n  var dollyStart = new THREE.Vector2();\n  var dollyEnd = new THREE.Vector2();\n  var dollyDelta = new THREE.Vector2();\n\n  function getAutoRotationAngle() {\n\n    return 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n  }\n\n  function getZoomScale() {\n\n    return Math.pow( 0.95, scope.zoomSpeed );\n\n  }\n\n  function rotateLeft( angle ) {\n\n    sphericalDelta.theta -= angle;\n\n  }\n\n  function rotateUp( angle ) {\n\n    sphericalDelta.phi -= angle;\n\n  }\n\n  var panLeft = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panLeft( distance, objectMatrix ) {\n\n      v.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n      v.multiplyScalar( - distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  var panUp = function () {\n\n    var v = new THREE.Vector3();\n\n    return function panUp( distance, objectMatrix ) {\n\n      v.setFromMatrixColumn( objectMatrix, 1 ); // get Y column of objectMatrix\n      v.multiplyScalar( distance );\n\n      panOffset.add( v );\n\n    };\n\n  }();\n\n  // deltaX and deltaY are in pixels; right and down are positive\n  var pan = function () {\n\n    var offset = new THREE.Vector3();\n\n    return function pan( deltaX, deltaY ) {\n\n      var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n      if ( scope.object.isPerspectiveCamera ) {\n\n        // perspective\n        var position = scope.object.position;\n        offset.copy( position ).sub( scope.target );\n        var targetDistance = offset.length();\n\n        // half of the fov is center to top of screen\n        targetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n        // we actually don't use screenWidth, since perspective camera is fixed to screen height\n        panLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n        panUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n      } else if ( scope.object.isOrthographicCamera ) {\n\n        // orthographic\n        panLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n        panUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n      } else {\n\n        // camera neither orthographic nor perspective\n        console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n        scope.enablePan = false;\n\n      }\n\n    };\n\n  }();\n\n  function dollyIn( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale /= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  function dollyOut( dollyScale ) {\n\n    if ( scope.object.isPerspectiveCamera ) {\n\n      scale *= dollyScale;\n\n    } else if ( scope.object.isOrthographicCamera ) {\n\n      scope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n      scope.object.updateProjectionMatrix();\n      zoomChanged = true;\n\n    } else {\n\n      console.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n      scope.enableZoom = false;\n\n    }\n\n  }\n\n  //\n  // event callbacks - update the object state\n  //\n\n  function handleMouseDownRotate( event ) {\n\n    //console.log( 'handleMouseDownRotate' );\n\n    rotateStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownDolly( event ) {\n\n    //console.log( 'handleMouseDownDolly' );\n\n    dollyStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseDownPan( event ) {\n\n    //console.log( 'handleMouseDownPan' );\n\n    panStart.set( event.clientX, event.clientY );\n\n  }\n\n  function handleMouseMoveRotate( event ) {\n\n    //console.log( 'handleMouseMoveRotate' );\n\n    rotateEnd.set( event.clientX, event.clientY );\n    rotateDelta.subVectors( rotateEnd, rotateStart );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMoveDolly( event ) {\n\n    //console.log( 'handleMouseMoveDolly' );\n\n    dollyEnd.set( event.clientX, event.clientY );\n\n    dollyDelta.subVectors( dollyEnd, dollyStart );\n\n    if ( dollyDelta.y > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    } else if ( dollyDelta.y < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    }\n\n    dollyStart.copy( dollyEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseMovePan( event ) {\n\n    //console.log( 'handleMouseMovePan' );\n\n    panEnd.set( event.clientX, event.clientY );\n\n    panDelta.subVectors( panEnd, panStart );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n  function handleMouseUp( event ) {\n\n    // console.log( 'handleMouseUp' );\n\n  }\n\n  function handleMouseWheel( event ) {\n\n    // console.log( 'handleMouseWheel' );\n\n    if ( event.deltaY < 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    } else if ( event.deltaY > 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    }\n\n    scope.update();\n\n  }\n\n  function handleKeyDown( event ) {\n\n    //console.log( 'handleKeyDown' );\n\n    switch ( event.keyCode ) {\n\n      case scope.keys.UP:\n        pan( 0, scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.BOTTOM:\n        pan( 0, - scope.keyPanSpeed );\n        scope.update();\n        break;\n\n      case scope.keys.LEFT:\n        pan( scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n      case scope.keys.RIGHT:\n        pan( - scope.keyPanSpeed, 0 );\n        scope.update();\n        break;\n\n    }\n\n  }\n\n  function handleTouchStartRotate( event ) {\n\n    //console.log( 'handleTouchStartRotate' );\n\n    rotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n  }\n\n  function handleTouchStartDolly( event ) {\n\n    //console.log( 'handleTouchStartDolly' );\n\n    var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n    var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n    var distance = Math.sqrt( dx * dx + dy * dy );\n\n    dollyStart.set( 0, distance );\n\n  }\n\n  function handleTouchStartPan( event ) {\n\n    //console.log( 'handleTouchStartPan' );\n\n    panStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n  }\n\n  function handleTouchMoveRotate( event ) {\n\n    //console.log( 'handleTouchMoveRotate' );\n\n    rotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n    rotateDelta.subVectors( rotateEnd, rotateStart );\n\n    var element = scope.domElement === document ? scope.domElement.body : scope.domElement;\n\n    // rotating across whole screen goes 360 degrees around\n    rotateLeft( 2 * Math.PI * rotateDelta.x / element.clientWidth * scope.rotateSpeed );\n\n    // rotating up and down along whole screen attempts to go 360, but limited to 180\n    rotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight * scope.rotateSpeed );\n\n    rotateStart.copy( rotateEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchMoveDolly( event ) {\n\n    //console.log( 'handleTouchMoveDolly' );\n\n    var dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n    var dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n    var distance = Math.sqrt( dx * dx + dy * dy );\n\n    dollyEnd.set( 0, distance );\n\n    dollyDelta.subVectors( dollyEnd, dollyStart );\n\n    if ( dollyDelta.y > 0 ) {\n\n      dollyOut( getZoomScale() );\n\n    } else if ( dollyDelta.y < 0 ) {\n\n      dollyIn( getZoomScale() );\n\n    }\n\n    dollyStart.copy( dollyEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchMovePan( event ) {\n\n    //console.log( 'handleTouchMovePan' );\n\n    panEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n    panDelta.subVectors( panEnd, panStart );\n\n    pan( panDelta.x, panDelta.y );\n\n    panStart.copy( panEnd );\n\n    scope.update();\n\n  }\n\n  function handleTouchEnd( event ) {\n\n    //console.log( 'handleTouchEnd' );\n\n  }\n\n  //\n  // event handlers - FSM: listen for events and reset state\n  //\n\n  function onMouseDown( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( event.button ) {\n\n      case scope.mouseButtons.ORBIT:\n\n        if ( scope.enableRotate === false ) return;\n\n        handleMouseDownRotate( event );\n\n        state = STATE.ROTATE;\n\n        break;\n\n      case scope.mouseButtons.ZOOM:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseDownDolly( event );\n\n        state = STATE.DOLLY;\n\n        break;\n\n      case scope.mouseButtons.PAN:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseDownPan( event );\n\n        state = STATE.PAN;\n\n        break;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      document.addEventListener( 'mousemove', onMouseMove, false );\n      document.addEventListener( 'mouseup', onMouseUp, false );\n\n      // scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onMouseMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n    switch ( state ) {\n\n      case STATE.ROTATE:\n\n        if ( scope.enableRotate === false ) return;\n\n        handleMouseMoveRotate( event );\n\n        break;\n\n      case STATE.DOLLY:\n\n        if ( scope.enableZoom === false ) return;\n\n        handleMouseMoveDolly( event );\n\n        break;\n\n      case STATE.PAN:\n\n        if ( scope.enablePan === false ) return;\n\n        handleMouseMovePan( event );\n\n        break;\n\n    }\n\n  }\n\n  function onMouseUp( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleMouseUp( event );\n\n    document.removeEventListener( 'mousemove', onMouseMove, false );\n    document.removeEventListener( 'mouseup', onMouseUp, false );\n\n    // scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onMouseWheel( event ) {\n\n    if ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    handleMouseWheel( event );\n\n    // scope.dispatchEvent( startEvent ); // not sure why these are here...\n    // scope.dispatchEvent( endEvent );\n\n  }\n\n  function onKeyDown( event ) {\n\n    if ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n    handleKeyDown( event );\n\n  }\n\n  function onTouchStart( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    switch ( event.touches.length ) {\n\n      case 1: // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n\n        handleTouchStartRotate( event );\n\n        state = STATE.TOUCH_ROTATE;\n\n        break;\n\n      case 2: // two-fingered touch: dolly\n\n        if ( scope.enableZoom === false ) return;\n\n        handleTouchStartDolly( event );\n\n        state = STATE.TOUCH_DOLLY;\n\n        break;\n\n      case 3: // three-fingered touch: pan\n\n        if ( scope.enablePan === false ) return;\n\n        handleTouchStartPan( event );\n\n        state = STATE.TOUCH_PAN;\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n    if ( state !== STATE.NONE ) {\n\n      // scope.dispatchEvent( startEvent );\n\n    }\n\n  }\n\n  function onTouchMove( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch ( event.touches.length ) {\n\n      case 1: // one-fingered touch: rotate\n\n        if ( scope.enableRotate === false ) return;\n        if ( state !== STATE.TOUCH_ROTATE ) return; // is this needed?...\n\n        handleTouchMoveRotate( event );\n\n        break;\n\n      case 2: // two-fingered touch: dolly\n\n        if ( scope.enableZoom === false ) return;\n        if ( state !== STATE.TOUCH_DOLLY ) return; // is this needed?...\n\n        handleTouchMoveDolly( event );\n\n        break;\n\n      case 3: // three-fingered touch: pan\n\n        if ( scope.enablePan === false ) return;\n        if ( state !== STATE.TOUCH_PAN ) return; // is this needed?...\n\n        handleTouchMovePan( event );\n\n        break;\n\n      default:\n\n        state = STATE.NONE;\n\n    }\n\n  }\n\n  function onTouchEnd( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    handleTouchEnd( event );\n\n    // scope.dispatchEvent( endEvent );\n\n    state = STATE.NONE;\n\n  }\n\n  function onContextMenu( event ) {\n\n    if ( scope.enabled === false ) return;\n\n    event.preventDefault();\n\n  }\n\n  //\n\n  scope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n  scope.domElement.addEventListener( 'mousedown', onMouseDown, false );\n  scope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n  scope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n  scope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n  scope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n  window.addEventListener( 'keydown', onKeyDown, false );\n\n  // force an update at start\n\n  this.update();\n\n};\n\nTHREE.OrbitControls.prototype = Object.create( THREE.EventDispatcher.prototype );\nTHREE.OrbitControls.prototype.constructor = THREE.OrbitControls;\n\nObject.defineProperties( THREE.OrbitControls.prototype, {\n\n  center: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .center has been renamed to .target' );\n      return this.target;\n\n    }\n\n  },\n\n  // backward compatibility\n\n  noZoom: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      return ! this.enableZoom;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead.' );\n      this.enableZoom = ! value;\n\n    }\n\n  },\n\n  noRotate: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      return ! this.enableRotate;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead.' );\n      this.enableRotate = ! value;\n\n    }\n\n  },\n\n  noPan: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      return ! this.enablePan;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead.' );\n      this.enablePan = ! value;\n\n    }\n\n  },\n\n  noKeys: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      return ! this.enableKeys;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead.' );\n      this.enableKeys = ! value;\n\n    }\n\n  },\n\n  staticMoving: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      return ! this.enableDamping;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead.' );\n      this.enableDamping = ! value;\n\n    }\n\n  },\n\n  dynamicDampingFactor: {\n\n    get: function () {\n\n      console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      return this.dampingFactor;\n\n    },\n\n    set: function ( value ) {\n\n      console.warn( 'THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead.' );\n      this.dampingFactor = value;\n\n    }\n\n  }\n\n} );\n","'use strict';\n\nclass LightManager {\n  constructor(scene) {\n    this.scene = scene;\n    this.scene.add(new THREE.AmbientLight(0xffffff, 0.7));\n\n    this.light = new THREE.DirectionalLight(0xffffff, 0.1);\n    this.light.position.x = 20;\n    this.light.position.y = 150;\n    this.light.position.z = 90;\n    this.light.name = 'dirlight';\n\n    this.scene.add(this.light);\n    this.light.castShadow = true;\n  }\n}\n\nmodule.exports = LightManager;\n","'use strict';\n\nconst VisualManager = require('./visual-manager');\n\n$(document).ready(() => {\n  const visualManager = new VisualManager();\n  visualManager.initialize();\n});\n","'use strict';\n\nconst ENABLE_ROTATION = false;\n\nclass Planet {\n  constructor(_scene) {\n    this.scene = _scene;\n    this.createSkyBox();\n  }\n\n  createSkyBox() {\n    const skyBoxGeometry = new THREE.BoxGeometry(10, 10, 10);\n    const skyBoxMaterial = new THREE.MeshBasicMaterial({ color: '#fff', side: THREE.BackSide });\n    skyBoxMaterial.map = THREE.ImageUtils.loadTexture('assets/sprites/Starscape.png');\n    const skyBox = new THREE.Mesh(skyBoxGeometry, skyBoxMaterial);\n    this.scene.add(skyBox);\n  }\n\n  initialize() {\n    this.initializeEarth();\n    this.initializeSmokeMap();\n  }\n\n  initializeEarth() {\n    const baseEarthGeometry = new THREE.SphereGeometry(0.5, 32, 32);\n    const earthMat = new THREE.MeshPhongMaterial();\n    this.earthMesh = new THREE.Mesh(baseEarthGeometry, earthMat);\n\n    earthMat.map = THREE.ImageUtils.loadTexture('assets/sprites/earth/earth_texture.jpg');\n    earthMat.bumpMap = THREE.ImageUtils.loadTexture('assets/sprites/earth/earth_bump_map.jpg');\n    earthMat.specularMap = THREE.ImageUtils.loadTexture('assets/sprites/earth/earth_specular.jpg');\n\n    earthMat.bumpScale = 0.05;\n    earthMat.specular = new THREE.Color('grey');\n\n    this.scene.add(this.earthMesh);\n  }\n\n  initializeSmokeMap() {\n    const smokeGeometry = new THREE.SphereGeometry(0.51, 32, 32);\n    const texturePath = 'assets/sprites/years/year_2014.png';\n\n    this.smokeMaterial = new THREE.ShaderMaterial({\n      uniforms: {\n        bufferTexture: { type: 't', value: THREE.ImageUtils.loadTexture(texturePath) },\n        time: { type: 'f', value: 0.0 },\n        scale: { type: 'v2', value: new THREE.Vector2(100, 100) }\n      },\n      blending: THREE.NormalBlending,\n      depthTest: true,\n      transparent: true,\n\n      vertexShader: document.getElementById('vertexShader').textContent,\n      fragmentShader: document.getElementById('fragment-shader-smoke').textContent\n    });\n\n    this.smokeMesh = new THREE.Mesh(smokeGeometry, this.smokeMaterial);\n    this.scene.add(this.smokeMesh);\n  }\n\n  update() {\n    if (ENABLE_ROTATION) {\n      this.earthMesh.rotation.y += 0.002;\n      this.smokeMesh.rotation.y += 0.002;\n      // this.smokeMesh.rotation.y += 0.001;\n    }\n\n    // this.smokeMaterial.uniforms.time.value += 0.001;\n    this.smokeMaterial.uniforms.time.value += 0.0025;\n  }\n}\n\nmodule.exports = Planet;\n","'use strict';\n\nconst LightManager = require('./light-manager');\nconst CameraManager = require('./camera-manager');\nconst Planet = require('./planet');\nrequire('./lib/orbital-controls');\n\nconst GAME_FPS = 50;\n\nconst VISUAL_AREA_DIV_ID = 'display-area';\nconst CANVAS_ID = 'display-canvas';\n\nlet visualManager;\n\nclass VisualManager {\n  constructor() {\n    this.renderer = null;\n  }\n\n  initialize() {\n    visualManager = this;\n    this.renderer = null;\n    this.scene = new THREE.Scene();\n    this.previousPlayerState = {};\n    this.loops = 0;\n    this.skipTicks = 1000 / GAME_FPS;\n    this.maxFrameSkip = 10;\n    this.nextGameTick = (new Date()).getTime();\n\n    this.planet = new Planet(this.scene);\n    this.lightManager = new LightManager(this.scene);\n    this.cameraManager = new CameraManager(this.scene, this);\n    this.initializeGraphics();\n\n    this.planet.initialize();\n    this.render();\n  }\n\n  initializeGraphics() {\n    const canvasElement = document.getElementById(CANVAS_ID);\n    this.renderer = new THREE.WebGLRenderer({ antialias: true, canvas: canvasElement });\n\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.setClearColor(0xffffff, 1);\n\n    this.renderer.shadowMapType = THREE.PCFSoftShadowMap;\n    this.renderer.shadowMapEnabled = true;\n    this.renderer.shadowMapSoft = false;\n\n    this.renderer.shadowCameraNear = 3;\n    this.renderer.shadowCameraFar = this.cameraManager.far;\n    this.renderer.shadowCameraFov = 50;\n\n    this.renderer.shadowMapBias = 0.0001;\n    this.renderer.shadowMapDarkness = 0.2;\n    this.renderer.shadowMapWidth = 2048;\n    this.renderer.shadowMapHeight = 2048;\n\n    document.getElementById(VISUAL_AREA_DIV_ID).appendChild(this.renderer.domElement);\n\n    document.body.oncontextmenu = () => false;\n    THREE.OrbitControls(this.cameraManager.camera, canvasElement);\n\n    window.addEventListener('resize', () => {\n      this.cameraManager.camera.aspect = window.innerWidth / window.innerHeight;\n      this.cameraManager.camera.updateProjectionMatrix();\n      this.renderer.setSize(window.innerWidth, window.innerHeight);\n    }, false);\n  }\n\n  render() {\n    // eslint-disable-next-line\n    requestAnimationFrame(visualManager.render);\n    visualManager.visualUpdate();\n    visualManager.renderer.render(visualManager.scene, visualManager.cameraManager.camera);\n  }\n\n  visualUpdate() {\n    visualManager.loops = 0;\n    while (((new Date()).getTime() > visualManager.nextGameTick) &&\n        (visualManager.loops < visualManager.maxFrameSkip)) {\n      visualManager.update();\n      visualManager.nextGameTick += visualManager.skipTicks;\n      visualManager.loops += 1;\n    }\n\n    // Used to prevent speed up issue\n    if (visualManager.loops > 0) {\n      this.visualUpdate();\n    }\n  }\n\n  update() {\n    this.cameraManager.update();\n    this.planet.update();\n  }\n}\n\nmodule.exports = VisualManager;\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2xpZW50L2NhbWVyYS1tYW5hZ2VyLmpzIiwic3JjL2NsaWVudC9saWIvb3JiaXRhbC1jb250cm9scy5qcyIsInNyYy9jbGllbnQvbGlnaHQtbWFuYWdlci5qcyIsInNyYy9jbGllbnQvbWFpbi5qcyIsInNyYy9jbGllbnQvcGxhbmV0LmpzIiwic3JjL2NsaWVudC92aXN1YWwtbWFuYWdlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQUVBLE1BQU0sZUFBZSxHQUFyQjs7QUFFQSxNQUFNLGFBQU4sQ0FBb0I7QUFDbEIsY0FBWSxLQUFaLEVBQW1CLFlBQW5CLEVBQWlDO0FBQy9CLFNBQUssV0FBTCxHQUFtQixZQUFuQjtBQUNBLFVBQU0sTUFBTSxFQUFaO0FBQ0EsVUFBTSxTQUFTLE9BQU8sVUFBUCxHQUFvQixPQUFPLFdBQTFDO0FBQ0EsVUFBTSxPQUFPLEdBQWI7QUFDQSxVQUFNLE1BQU0sS0FBWjs7QUFFQSxTQUFLLE1BQUwsR0FBYyxJQUFJLE1BQU0saUJBQVYsQ0FBNEIsR0FBNUIsRUFBaUMsTUFBakMsRUFBeUMsSUFBekMsRUFBK0MsR0FBL0MsQ0FBZDs7QUFFQSxTQUFLLE1BQUwsQ0FBWSxRQUFaLENBQXFCLEdBQXJCLENBQXlCLENBQXpCLEVBQTRCLEdBQTVCLEVBQWlDLEdBQWpDO0FBQ0EsVUFBTSxHQUFOLENBQVUsS0FBSyxNQUFmOztBQUdBLFNBQUssTUFBTCxDQUFZLFFBQVosQ0FBcUIsQ0FBckIsR0FBeUIsQ0FBekI7QUFDQSxTQUFLLE1BQUwsQ0FBWSxRQUFaLENBQXFCLENBQXJCLEdBQXlCLENBQUMsR0FBMUI7O0FBRUE7QUFDQSxTQUFLLFdBQUwsR0FBbUIsS0FBSyxXQUFMLENBQWlCLElBQWpCLENBQXNCLElBQXRCLENBQW5CO0FBQ0EsU0FBSyxXQUFMLEdBQW1CLEtBQUssV0FBTCxDQUFpQixJQUFqQixDQUFzQixJQUF0QixD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QSxXQUFPLGdCQUFQLENBQXdCLFFBQXhCLEVBQWtDLE1BQU07QUFDdEMsV0FBSyxhQUFMLENBQW1CLE1BQW5CLENBQTBCLE1BQTFCLEdBQW1DLE9BQU8sVUFBUCxHQUFvQixPQUFPLFdBQTlEO0FBQ0EsV0FBSyxhQUFMLENBQW1CLE1BQW5CLENBQTBCLHNCQUExQjtBQUNBLFdBQUssUUFBTCxDQUFjLE9BQWQsQ0FBc0IsT0FBTyxVQUE3QixFQUF5QyxPQUFPLFdBQWhEO0FBQ0QsS0FKRCxFQUlHLEtBSkg7QUFLRDs7QUFFRCxXQUFTO0FBQ1A7QUFDQSwwQkFBc0IsY0FBYyxNQUFwQztBQUNBLGtCQUFjLFlBQWQ7QUFDQSxrQkFBYyxRQUFkLENBQXVCLE1BQXZCLENBQThCLGNBQWMsS0FBNUMsRUFBbUQsY0FBYyxhQUFkLENBQTRCLE1BQS9FO0FBQ0Q7O0FBRUQsaUJBQWU7QUFDYixrQkFBYyxLQUFkLEdBQXNCLENBQXRCO0FBQ0EsV0FBUyxJQUFJLElBQUosRUFBRCxDQUFhLE9BQWIsS0FBeUIsY0FBYyxZQUF4QyxJQUNGLGNBQWMsS0FBZCxHQUFzQixjQUFjLFlBRHpDLEVBQ3dEO0FBQ3RELG9CQUFjLE1BQWQ7QUFDQSxvQkFBYyxZQUFkLElBQThCLGNBQWMsU0FBNUM7QUFDQSxvQkFBYyxLQUFkLElBQXVCLENBQXZCO0FBQ0Q7O0FBRUQ7QUFDQSxRQUFJLGNBQWMsS0FBZCxHQUFzQixDQUExQixFQUE2QjtBQUMzQixXQUFLLFlBQUw7QUFDRDtBQUNGOztBQUVELFdBQVM7QUFDUCxTQUFLLGFBQUwsQ0FBbUIsTUFBbkI7QUFDQSxTQUFLLE1BQUwsQ0FBWSxNQUFaO0FBQ0Q7QUFqRmlCOztBQW9GcEIsT0FBTyxPQUFQLEdBQWlCLGFBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgQ0FNRVJBX1NQRUVEID0gMC4xO1xuXG5jbGFzcyBDYW1lcmFNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Ioc2NlbmUsIF9nYW1lTWFuYWdlcikge1xuICAgIHRoaXMuZ2FtZU1hbmFnZXIgPSBfZ2FtZU1hbmFnZXI7XG4gICAgY29uc3QgZm92ID0gNjA7XG4gICAgY29uc3QgYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY29uc3QgbmVhciA9IDAuMTtcbiAgICBjb25zdCBmYXIgPSAxMDAwMDtcblxuICAgIHRoaXMuY2FtZXJhID0gbmV3IFRIUkVFLlBlcnNwZWN0aXZlQ2FtZXJhKGZvdiwgYXNwZWN0LCBuZWFyLCBmYXIpO1xuXG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24uc2V0KDAsIDEuNSwgMS4yKTtcbiAgICBzY2VuZS5hZGQodGhpcy5jYW1lcmEpO1xuXG5cbiAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbi54ID0gMDtcbiAgICB0aGlzLmNhbWVyYS5yb3RhdGlvbi54ID0gLTAuOTtcblxuICAgIC8vIEJpbmQgZnVuY3Rpb25zXG4gICAgdGhpcy5yYWlzZUNhbWVyYSA9IHRoaXMucmFpc2VDYW1lcmEuYmluZCh0aGlzKTtcbiAgICB0aGlzLmxvd2VyQ2FtZXJhID0gdGhpcy5sb3dlckNhbWVyYS5iaW5kKHRoaXMpO1xuICAgIHRoaXMubW92ZUxlZnQgPSB0aGlzLm1vdmVMZWZ0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3ZlUmlnaHQgPSB0aGlzLm1vdmVSaWdodC5iaW5kKHRoaXMpO1xuICAgIHRoaXMubW92ZUZvcndhcmQgPSB0aGlzLm1vdmVGb3J3YXJkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5tb3ZlQmFja3dhcmQgPSB0aGlzLm1vdmVCYWNrd2FyZC5iaW5kKHRoaXMpO1xuICB9XG5cbiAgdXBkYXRlKCkgeyB9XG5cbiAgX3VwZGF0ZUNhbWVyYURlYnVnSW5mbygpIHtcbiAgICAkKCcjY2FtZXJhLWRhdGEnKS5odG1sKGAoJHt0aGlzLmNhbWVyYS5wb3NpdGlvbi54fSwke3RoaXMuY2FtZXJhLnBvc2l0aW9uLnl9LCR7dGhpcy5jYW1lcmEucG9zaXRpb24uen0pYCk7XG4gIH1cblxuICByYWlzZUNhbWVyYSgpIHtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi55ICs9IENBTUVSQV9TUEVFRDtcbiAgICB0aGlzLl91cGRhdGVDYW1lcmFEZWJ1Z0luZm8oKTtcbiAgfVxuXG4gIGxvd2VyQ2FtZXJhKCkge1xuICAgIHRoaXMuY2FtZXJhLnBvc2l0aW9uLnkgLT0gQ0FNRVJBX1NQRUVEO1xuICAgIHRoaXMuX3VwZGF0ZUNhbWVyYURlYnVnSW5mbygpO1xuICB9XG5cbiAgbW92ZUxlZnQoKSB7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueCAtPSBDQU1FUkFfU1BFRUQ7XG4gICAgdGhpcy5fdXBkYXRlQ2FtZXJhRGVidWdJbmZvKCk7XG4gIH1cblxuICBtb3ZlUmlnaHQoKSB7XG4gICAgdGhpcy5jYW1lcmEucG9zaXRpb24ueCArPSBDQU1FUkFfU1BFRUQ7XG4gICAgdGhpcy5fdXBkYXRlQ2FtZXJhRGVidWdJbmZvKCk7XG4gIH1cblxuICBtb3ZlRm9yd2FyZCgpIHtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56IC09IENBTUVSQV9TUEVFRDtcbiAgICB0aGlzLl91cGRhdGVDYW1lcmFEZWJ1Z0luZm8oKTtcbiAgfVxuXG4gIG1vdmVCYWNrd2FyZCgpIHtcbiAgICB0aGlzLmNhbWVyYS5wb3NpdGlvbi56ICs9IENBTUVSQV9TUEVFRDtcbiAgICB0aGlzLl91cGRhdGVDYW1lcmFEZWJ1Z0luZm8oKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENhbWVyYU1hbmFnZXI7XG4iLCIvKipcbiAqIEBhdXRob3IgcWlhbyAvIGh0dHBzOi8vZ2l0aHViLmNvbS9xaWFvXG4gKiBAYXV0aG9yIG1yZG9vYiAvIGh0dHA6Ly9tcmRvb2IuY29tXG4gKiBAYXV0aG9yIGFsdGVyZWRxIC8gaHR0cDovL2FsdGVyZWRxdWFsaWEuY29tL1xuICogQGF1dGhvciBXZXN0TGFuZ2xleSAvIGh0dHA6Ly9naXRodWIuY29tL1dlc3RMYW5nbGV5XG4gKiBAYXV0aG9yIGVyaWNoNjY2IC8gaHR0cDovL2VyaWNoYWluZXMuY29tXG4gKi9cblxuLy8gVGhpcyBzZXQgb2YgY29udHJvbHMgcGVyZm9ybXMgb3JiaXRpbmcsIGRvbGx5aW5nICh6b29taW5nKSwgYW5kIHBhbm5pbmcuXG4vLyBVbmxpa2UgVHJhY2tiYWxsQ29udHJvbHMsIGl0IG1haW50YWlucyB0aGUgXCJ1cFwiIGRpcmVjdGlvbiBvYmplY3QudXAgKCtZIGJ5IGRlZmF1bHQpLlxuLy9cbi8vICAgIE9yYml0IC0gbGVmdCBtb3VzZSAvIHRvdWNoOiBvbmUgZmluZ2VyIG1vdmVcbi8vICAgIFpvb20gLSBtaWRkbGUgbW91c2UsIG9yIG1vdXNld2hlZWwgLyB0b3VjaDogdHdvIGZpbmdlciBzcHJlYWQgb3Igc3F1aXNoXG4vLyAgICBQYW4gLSByaWdodCBtb3VzZSwgb3IgYXJyb3cga2V5cyAvIHRvdWNoOiB0aHJlZSBmaW5nZXIgc3dpcGVcblxuVEhSRUUuT3JiaXRDb250cm9scyA9IGZ1bmN0aW9uICggb2JqZWN0LCBkb21FbGVtZW50ICkge1xuXG4gIHRoaXMub2JqZWN0ID0gb2JqZWN0O1xuXG4gIHRoaXMuZG9tRWxlbWVudCA9ICggZG9tRWxlbWVudCAhPT0gdW5kZWZpbmVkICkgPyBkb21FbGVtZW50IDogZG9jdW1lbnQ7XG5cbiAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdGhpcyBjb250cm9sXG4gIHRoaXMuZW5hYmxlZCA9IHRydWU7XG5cbiAgLy8gXCJ0YXJnZXRcIiBzZXRzIHRoZSBsb2NhdGlvbiBvZiBmb2N1cywgd2hlcmUgdGhlIG9iamVjdCBvcmJpdHMgYXJvdW5kXG4gIHRoaXMudGFyZ2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAvLyBIb3cgZmFyIHlvdSBjYW4gZG9sbHkgaW4gYW5kIG91dCAoIFBlcnNwZWN0aXZlQ2FtZXJhIG9ubHkgKVxuICB0aGlzLm1pbkRpc3RhbmNlID0gMDtcbiAgdGhpcy5tYXhEaXN0YW5jZSA9IEluZmluaXR5O1xuXG4gIC8vIEhvdyBmYXIgeW91IGNhbiB6b29tIGluIGFuZCBvdXQgKCBPcnRob2dyYXBoaWNDYW1lcmEgb25seSApXG4gIHRoaXMubWluWm9vbSA9IDA7XG4gIHRoaXMubWF4Wm9vbSA9IEluZmluaXR5O1xuXG4gIC8vIEhvdyBmYXIgeW91IGNhbiBvcmJpdCB2ZXJ0aWNhbGx5LCB1cHBlciBhbmQgbG93ZXIgbGltaXRzLlxuICAvLyBSYW5nZSBpcyAwIHRvIE1hdGguUEkgcmFkaWFucy5cbiAgdGhpcy5taW5Qb2xhckFuZ2xlID0gMDsgLy8gcmFkaWFuc1xuICB0aGlzLm1heFBvbGFyQW5nbGUgPSBNYXRoLlBJOyAvLyByYWRpYW5zXG5cbiAgLy8gSG93IGZhciB5b3UgY2FuIG9yYml0IGhvcml6b250YWxseSwgdXBwZXIgYW5kIGxvd2VyIGxpbWl0cy5cbiAgLy8gSWYgc2V0LCBtdXN0IGJlIGEgc3ViLWludGVydmFsIG9mIHRoZSBpbnRlcnZhbCBbIC0gTWF0aC5QSSwgTWF0aC5QSSBdLlxuICB0aGlzLm1pbkF6aW11dGhBbmdsZSA9IC0gSW5maW5pdHk7IC8vIHJhZGlhbnNcbiAgdGhpcy5tYXhBemltdXRoQW5nbGUgPSBJbmZpbml0eTsgLy8gcmFkaWFuc1xuXG4gIC8vIFNldCB0byB0cnVlIHRvIGVuYWJsZSBkYW1waW5nIChpbmVydGlhKVxuICAvLyBJZiBkYW1waW5nIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxuICB0aGlzLmVuYWJsZURhbXBpbmcgPSBmYWxzZTtcbiAgdGhpcy5kYW1waW5nRmFjdG9yID0gMC4yNTtcblxuICAvLyBUaGlzIG9wdGlvbiBhY3R1YWxseSBlbmFibGVzIGRvbGx5aW5nIGluIGFuZCBvdXQ7IGxlZnQgYXMgXCJ6b29tXCIgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LlxuICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSB6b29taW5nXG4gIHRoaXMuZW5hYmxlWm9vbSA9IHRydWU7XG4gIHRoaXMuem9vbVNwZWVkID0gMS4wO1xuXG4gIC8vIFNldCB0byBmYWxzZSB0byBkaXNhYmxlIHJvdGF0aW5nXG4gIHRoaXMuZW5hYmxlUm90YXRlID0gdHJ1ZTtcbiAgdGhpcy5yb3RhdGVTcGVlZCA9IDEuMDtcblxuICAvLyBTZXQgdG8gZmFsc2UgdG8gZGlzYWJsZSBwYW5uaW5nXG4gIHRoaXMuZW5hYmxlUGFuID0gdHJ1ZTtcbiAgdGhpcy5rZXlQYW5TcGVlZCA9IDcuMDsgLy8gcGl4ZWxzIG1vdmVkIHBlciBhcnJvdyBrZXkgcHVzaFxuXG4gIC8vIFNldCB0byB0cnVlIHRvIGF1dG9tYXRpY2FsbHkgcm90YXRlIGFyb3VuZCB0aGUgdGFyZ2V0XG4gIC8vIElmIGF1dG8tcm90YXRlIGlzIGVuYWJsZWQsIHlvdSBtdXN0IGNhbGwgY29udHJvbHMudXBkYXRlKCkgaW4geW91ciBhbmltYXRpb24gbG9vcFxuICB0aGlzLmF1dG9Sb3RhdGUgPSBmYWxzZTtcbiAgdGhpcy5hdXRvUm90YXRlU3BlZWQgPSAyLjA7IC8vIDMwIHNlY29uZHMgcGVyIHJvdW5kIHdoZW4gZnBzIGlzIDYwXG5cbiAgLy8gU2V0IHRvIGZhbHNlIHRvIGRpc2FibGUgdXNlIG9mIHRoZSBrZXlzXG4gIHRoaXMuZW5hYmxlS2V5cyA9IHRydWU7XG5cbiAgLy8gVGhlIGZvdXIgYXJyb3cga2V5c1xuICB0aGlzLmtleXMgPSB7IExFRlQ6IDM3LCBVUDogMzgsIFJJR0hUOiAzOSwgQk9UVE9NOiA0MCB9O1xuXG4gIC8vIE1vdXNlIGJ1dHRvbnNcbiAgdGhpcy5tb3VzZUJ1dHRvbnMgPSB7IE9SQklUOiBUSFJFRS5NT1VTRS5MRUZULCBaT09NOiBUSFJFRS5NT1VTRS5NSURETEUsIFBBTjogVEhSRUUuTU9VU0UuUklHSFQgfTtcblxuICAvLyBmb3IgcmVzZXRcbiAgdGhpcy50YXJnZXQwID0gdGhpcy50YXJnZXQuY2xvbmUoKTtcbiAgdGhpcy5wb3NpdGlvbjAgPSB0aGlzLm9iamVjdC5wb3NpdGlvbi5jbG9uZSgpO1xuICB0aGlzLnpvb20wID0gdGhpcy5vYmplY3Quem9vbTtcblxuICAvL1xuICAvLyBwdWJsaWMgbWV0aG9kc1xuICAvL1xuXG4gIHRoaXMuZ2V0UG9sYXJBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBzcGhlcmljYWwucGhpO1xuXG4gIH07XG5cbiAgdGhpcy5nZXRBemltdXRoYWxBbmdsZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHJldHVybiBzcGhlcmljYWwudGhldGE7XG5cbiAgfTtcblxuICB0aGlzLnNhdmVTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIHNjb3BlLnRhcmdldDAuY29weSggc2NvcGUudGFyZ2V0ICk7XG4gICAgc2NvcGUucG9zaXRpb24wLmNvcHkoIHNjb3BlLm9iamVjdC5wb3NpdGlvbiApO1xuICAgIHNjb3BlLnpvb20wID0gc2NvcGUub2JqZWN0Lnpvb207XG5cbiAgfTtcblxuICB0aGlzLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuXG4gICAgc2NvcGUudGFyZ2V0LmNvcHkoIHNjb3BlLnRhcmdldDAgKTtcbiAgICBzY29wZS5vYmplY3QucG9zaXRpb24uY29weSggc2NvcGUucG9zaXRpb24wICk7XG4gICAgc2NvcGUub2JqZWN0Lnpvb20gPSBzY29wZS56b29tMDtcblxuICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgIHNjb3BlLnVwZGF0ZSgpO1xuXG4gICAgc3RhdGUgPSBTVEFURS5OT05FO1xuXG4gIH07XG5cbiAgLy8gdGhpcyBtZXRob2QgaXMgZXhwb3NlZCwgYnV0IHBlcmhhcHMgaXQgd291bGQgYmUgYmV0dGVyIGlmIHdlIGNhbiBtYWtlIGl0IHByaXZhdGUuLi5cbiAgdGhpcy51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgb2Zmc2V0ID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcblxuICAgIC8vIHNvIGNhbWVyYS51cCBpcyB0aGUgb3JiaXQgYXhpc1xuICAgIHZhciBxdWF0ID0gbmV3IFRIUkVFLlF1YXRlcm5pb24oKS5zZXRGcm9tVW5pdFZlY3RvcnMoIG9iamVjdC51cCwgbmV3IFRIUkVFLlZlY3RvcjMoIDAsIDEsIDAgKSApO1xuICAgIHZhciBxdWF0SW52ZXJzZSA9IHF1YXQuY2xvbmUoKS5pbnZlcnNlKCk7XG5cbiAgICB2YXIgbGFzdFBvc2l0aW9uID0gbmV3IFRIUkVFLlZlY3RvcjMoKTtcbiAgICB2YXIgbGFzdFF1YXRlcm5pb24gPSBuZXcgVEhSRUUuUXVhdGVybmlvbigpO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZSgpIHtcblxuICAgICAgdmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuXG4gICAgICBvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuXG4gICAgICAvLyByb3RhdGUgb2Zmc2V0IHRvIFwieS1heGlzLWlzLXVwXCIgc3BhY2VcbiAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXQgKTtcblxuICAgICAgLy8gYW5nbGUgZnJvbSB6LWF4aXMgYXJvdW5kIHktYXhpc1xuICAgICAgc3BoZXJpY2FsLnNldEZyb21WZWN0b3IzKCBvZmZzZXQgKTtcblxuICAgICAgaWYgKCBzY29wZS5hdXRvUm90YXRlICYmIHN0YXRlID09PSBTVEFURS5OT05FICkge1xuXG4gICAgICAgIHJvdGF0ZUxlZnQoIGdldEF1dG9Sb3RhdGlvbkFuZ2xlKCkgKTtcblxuICAgICAgfVxuXG4gICAgICBzcGhlcmljYWwudGhldGEgKz0gc3BoZXJpY2FsRGVsdGEudGhldGE7XG4gICAgICBzcGhlcmljYWwucGhpICs9IHNwaGVyaWNhbERlbHRhLnBoaTtcblxuICAgICAgLy8gcmVzdHJpY3QgdGhldGEgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgc3BoZXJpY2FsLnRoZXRhID0gTWF0aC5tYXgoIHNjb3BlLm1pbkF6aW11dGhBbmdsZSwgTWF0aC5taW4oIHNjb3BlLm1heEF6aW11dGhBbmdsZSwgc3BoZXJpY2FsLnRoZXRhICkgKTtcblxuICAgICAgLy8gcmVzdHJpY3QgcGhpIHRvIGJlIGJldHdlZW4gZGVzaXJlZCBsaW1pdHNcbiAgICAgIHNwaGVyaWNhbC5waGkgPSBNYXRoLm1heCggc2NvcGUubWluUG9sYXJBbmdsZSwgTWF0aC5taW4oIHNjb3BlLm1heFBvbGFyQW5nbGUsIHNwaGVyaWNhbC5waGkgKSApO1xuXG4gICAgICBzcGhlcmljYWwubWFrZVNhZmUoKTtcblxuXG4gICAgICBzcGhlcmljYWwucmFkaXVzICo9IHNjYWxlO1xuXG4gICAgICAvLyByZXN0cmljdCByYWRpdXMgdG8gYmUgYmV0d2VlbiBkZXNpcmVkIGxpbWl0c1xuICAgICAgc3BoZXJpY2FsLnJhZGl1cyA9IE1hdGgubWF4KCBzY29wZS5taW5EaXN0YW5jZSwgTWF0aC5taW4oIHNjb3BlLm1heERpc3RhbmNlLCBzcGhlcmljYWwucmFkaXVzICkgKTtcblxuICAgICAgLy8gbW92ZSB0YXJnZXQgdG8gcGFubmVkIGxvY2F0aW9uXG4gICAgICBzY29wZS50YXJnZXQuYWRkKCBwYW5PZmZzZXQgKTtcblxuICAgICAgb2Zmc2V0LnNldEZyb21TcGhlcmljYWwoIHNwaGVyaWNhbCApO1xuXG4gICAgICAvLyByb3RhdGUgb2Zmc2V0IGJhY2sgdG8gXCJjYW1lcmEtdXAtdmVjdG9yLWlzLXVwXCIgc3BhY2VcbiAgICAgIG9mZnNldC5hcHBseVF1YXRlcm5pb24oIHF1YXRJbnZlcnNlICk7XG5cbiAgICAgIHBvc2l0aW9uLmNvcHkoIHNjb3BlLnRhcmdldCApLmFkZCggb2Zmc2V0ICk7XG5cbiAgICAgIHNjb3BlLm9iamVjdC5sb29rQXQoIHNjb3BlLnRhcmdldCApO1xuXG4gICAgICBpZiAoIHNjb3BlLmVuYWJsZURhbXBpbmcgPT09IHRydWUgKSB7XG5cbiAgICAgICAgc3BoZXJpY2FsRGVsdGEudGhldGEgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xuICAgICAgICBzcGhlcmljYWxEZWx0YS5waGkgKj0gKCAxIC0gc2NvcGUuZGFtcGluZ0ZhY3RvciApO1xuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIHNwaGVyaWNhbERlbHRhLnNldCggMCwgMCwgMCApO1xuXG4gICAgICB9XG5cbiAgICAgIHNjYWxlID0gMTtcbiAgICAgIHBhbk9mZnNldC5zZXQoIDAsIDAsIDAgKTtcblxuICAgICAgLy8gdXBkYXRlIGNvbmRpdGlvbiBpczpcbiAgICAgIC8vIG1pbihjYW1lcmEgZGlzcGxhY2VtZW50LCBjYW1lcmEgcm90YXRpb24gaW4gcmFkaWFucyleMiA+IEVQU1xuICAgICAgLy8gdXNpbmcgc21hbGwtYW5nbGUgYXBwcm94aW1hdGlvbiBjb3MoeC8yKSA9IDEgLSB4XjIgLyA4XG5cbiAgICAgIGlmICggem9vbUNoYW5nZWQgfHxcbiAgICAgICAgbGFzdFBvc2l0aW9uLmRpc3RhbmNlVG9TcXVhcmVkKCBzY29wZS5vYmplY3QucG9zaXRpb24gKSA+IEVQUyB8fFxuICAgICAgICA4ICogKCAxIC0gbGFzdFF1YXRlcm5pb24uZG90KCBzY29wZS5vYmplY3QucXVhdGVybmlvbiApICkgPiBFUFMgKSB7XG5cbiAgICAgICAgLy8gc2NvcGUuZGlzcGF0Y2hFdmVudCggY2hhbmdlRXZlbnQgKTtcblxuICAgICAgICBsYXN0UG9zaXRpb24uY29weSggc2NvcGUub2JqZWN0LnBvc2l0aW9uICk7XG4gICAgICAgIGxhc3RRdWF0ZXJuaW9uLmNvcHkoIHNjb3BlLm9iamVjdC5xdWF0ZXJuaW9uICk7XG4gICAgICAgIHpvb21DaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgfTtcblxuICB9KCk7XG5cbiAgdGhpcy5kaXNwb3NlID0gZnVuY3Rpb24gKCkge1xuXG4gICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnY29udGV4dG1lbnUnLCBvbkNvbnRleHRNZW51LCBmYWxzZSApO1xuICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlZG93bicsIG9uTW91c2VEb3duLCBmYWxzZSApO1xuICAgIHNjb3BlLmRvbUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ3doZWVsJywgb25Nb3VzZVdoZWVsLCBmYWxzZSApO1xuXG4gICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UgKTtcbiAgICBzY29wZS5kb21FbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICd0b3VjaGVuZCcsIG9uVG91Y2hFbmQsIGZhbHNlICk7XG4gICAgc2NvcGUuZG9tRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAndG91Y2htb3ZlJywgb25Ub3VjaE1vdmUsIGZhbHNlICk7XG5cbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCAnbW91c2Vtb3ZlJywgb25Nb3VzZU1vdmUsIGZhbHNlICk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNldXAnLCBvbk1vdXNlVXAsIGZhbHNlICk7XG5cbiAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlICk7XG5cbiAgICAvL3Njb3BlLmRpc3BhdGNoRXZlbnQoIHsgdHlwZTogJ2Rpc3Bvc2UnIH0gKTsgLy8gc2hvdWxkIHRoaXMgYmUgYWRkZWQgaGVyZT9cblxuICB9O1xuXG4gIC8vXG4gIC8vIGludGVybmFsc1xuICAvL1xuXG4gIHZhciBzY29wZSA9IHRoaXM7XG5cbiAgdmFyIGNoYW5nZUV2ZW50ID0geyB0eXBlOiAnY2hhbmdlJyB9O1xuICB2YXIgc3RhcnRFdmVudCA9IHsgdHlwZTogJ3N0YXJ0JyB9O1xuICB2YXIgZW5kRXZlbnQgPSB7IHR5cGU6ICdlbmQnIH07XG5cbiAgdmFyIFNUQVRFID0geyBOT05FOiAtIDEsIFJPVEFURTogMCwgRE9MTFk6IDEsIFBBTjogMiwgVE9VQ0hfUk9UQVRFOiAzLCBUT1VDSF9ET0xMWTogNCwgVE9VQ0hfUEFOOiA1IH07XG5cbiAgdmFyIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICB2YXIgRVBTID0gMC4wMDAwMDE7XG5cbiAgLy8gY3VycmVudCBwb3NpdGlvbiBpbiBzcGhlcmljYWwgY29vcmRpbmF0ZXNcbiAgdmFyIHNwaGVyaWNhbCA9IG5ldyBUSFJFRS5TcGhlcmljYWwoKTtcbiAgdmFyIHNwaGVyaWNhbERlbHRhID0gbmV3IFRIUkVFLlNwaGVyaWNhbCgpO1xuXG4gIHZhciBzY2FsZSA9IDE7XG4gIHZhciBwYW5PZmZzZXQgPSBuZXcgVEhSRUUuVmVjdG9yMygpO1xuICB2YXIgem9vbUNoYW5nZWQgPSBmYWxzZTtcblxuICB2YXIgcm90YXRlU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICB2YXIgcm90YXRlRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgdmFyIHJvdGF0ZURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICB2YXIgcGFuU3RhcnQgPSBuZXcgVEhSRUUuVmVjdG9yMigpO1xuICB2YXIgcGFuRW5kID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcbiAgdmFyIHBhbkRlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICB2YXIgZG9sbHlTdGFydCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gIHZhciBkb2xseUVuZCA9IG5ldyBUSFJFRS5WZWN0b3IyKCk7XG4gIHZhciBkb2xseURlbHRhID0gbmV3IFRIUkVFLlZlY3RvcjIoKTtcblxuICBmdW5jdGlvbiBnZXRBdXRvUm90YXRpb25BbmdsZSgpIHtcblxuICAgIHJldHVybiAyICogTWF0aC5QSSAvIDYwIC8gNjAgKiBzY29wZS5hdXRvUm90YXRlU3BlZWQ7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFpvb21TY2FsZSgpIHtcblxuICAgIHJldHVybiBNYXRoLnBvdyggMC45NSwgc2NvcGUuem9vbVNwZWVkICk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJvdGF0ZUxlZnQoIGFuZ2xlICkge1xuXG4gICAgc3BoZXJpY2FsRGVsdGEudGhldGEgLT0gYW5nbGU7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIHJvdGF0ZVVwKCBhbmdsZSApIHtcblxuICAgIHNwaGVyaWNhbERlbHRhLnBoaSAtPSBhbmdsZTtcblxuICB9XG5cbiAgdmFyIHBhbkxlZnQgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcGFuTGVmdCggZGlzdGFuY2UsIG9iamVjdE1hdHJpeCApIHtcblxuICAgICAgdi5zZXRGcm9tTWF0cml4Q29sdW1uKCBvYmplY3RNYXRyaXgsIDAgKTsgLy8gZ2V0IFggY29sdW1uIG9mIG9iamVjdE1hdHJpeFxuICAgICAgdi5tdWx0aXBseVNjYWxhciggLSBkaXN0YW5jZSApO1xuXG4gICAgICBwYW5PZmZzZXQuYWRkKCB2ICk7XG5cbiAgICB9O1xuXG4gIH0oKTtcblxuICB2YXIgcGFuVXAgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICB2YXIgdiA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcGFuVXAoIGRpc3RhbmNlLCBvYmplY3RNYXRyaXggKSB7XG5cbiAgICAgIHYuc2V0RnJvbU1hdHJpeENvbHVtbiggb2JqZWN0TWF0cml4LCAxICk7IC8vIGdldCBZIGNvbHVtbiBvZiBvYmplY3RNYXRyaXhcbiAgICAgIHYubXVsdGlwbHlTY2FsYXIoIGRpc3RhbmNlICk7XG5cbiAgICAgIHBhbk9mZnNldC5hZGQoIHYgKTtcblxuICAgIH07XG5cbiAgfSgpO1xuXG4gIC8vIGRlbHRhWCBhbmQgZGVsdGFZIGFyZSBpbiBwaXhlbHM7IHJpZ2h0IGFuZCBkb3duIGFyZSBwb3NpdGl2ZVxuICB2YXIgcGFuID0gZnVuY3Rpb24gKCkge1xuXG4gICAgdmFyIG9mZnNldCA9IG5ldyBUSFJFRS5WZWN0b3IzKCk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24gcGFuKCBkZWx0YVgsIGRlbHRhWSApIHtcblxuICAgICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cbiAgICAgIGlmICggc2NvcGUub2JqZWN0LmlzUGVyc3BlY3RpdmVDYW1lcmEgKSB7XG5cbiAgICAgICAgLy8gcGVyc3BlY3RpdmVcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gc2NvcGUub2JqZWN0LnBvc2l0aW9uO1xuICAgICAgICBvZmZzZXQuY29weSggcG9zaXRpb24gKS5zdWIoIHNjb3BlLnRhcmdldCApO1xuICAgICAgICB2YXIgdGFyZ2V0RGlzdGFuY2UgPSBvZmZzZXQubGVuZ3RoKCk7XG5cbiAgICAgICAgLy8gaGFsZiBvZiB0aGUgZm92IGlzIGNlbnRlciB0byB0b3Agb2Ygc2NyZWVuXG4gICAgICAgIHRhcmdldERpc3RhbmNlICo9IE1hdGgudGFuKCAoIHNjb3BlLm9iamVjdC5mb3YgLyAyICkgKiBNYXRoLlBJIC8gMTgwLjAgKTtcblxuICAgICAgICAvLyB3ZSBhY3R1YWxseSBkb24ndCB1c2Ugc2NyZWVuV2lkdGgsIHNpbmNlIHBlcnNwZWN0aXZlIGNhbWVyYSBpcyBmaXhlZCB0byBzY3JlZW4gaGVpZ2h0XG4gICAgICAgIHBhbkxlZnQoIDIgKiBkZWx0YVggKiB0YXJnZXREaXN0YW5jZSAvIGVsZW1lbnQuY2xpZW50SGVpZ2h0LCBzY29wZS5vYmplY3QubWF0cml4ICk7XG4gICAgICAgIHBhblVwKCAyICogZGVsdGFZICogdGFyZ2V0RGlzdGFuY2UgLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXG4gICAgICB9IGVsc2UgaWYgKCBzY29wZS5vYmplY3QuaXNPcnRob2dyYXBoaWNDYW1lcmEgKSB7XG5cbiAgICAgICAgLy8gb3J0aG9ncmFwaGljXG4gICAgICAgIHBhbkxlZnQoIGRlbHRhWCAqICggc2NvcGUub2JqZWN0LnJpZ2h0IC0gc2NvcGUub2JqZWN0LmxlZnQgKSAvIHNjb3BlLm9iamVjdC56b29tIC8gZWxlbWVudC5jbGllbnRXaWR0aCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuICAgICAgICBwYW5VcCggZGVsdGFZICogKCBzY29wZS5vYmplY3QudG9wIC0gc2NvcGUub2JqZWN0LmJvdHRvbSApIC8gc2NvcGUub2JqZWN0Lnpvb20gLyBlbGVtZW50LmNsaWVudEhlaWdodCwgc2NvcGUub2JqZWN0Lm1hdHJpeCApO1xuXG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIGNhbWVyYSBuZWl0aGVyIG9ydGhvZ3JhcGhpYyBub3IgcGVyc3BlY3RpdmVcbiAgICAgICAgY29uc29sZS53YXJuKCAnV0FSTklORzogT3JiaXRDb250cm9scy5qcyBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGNhbWVyYSB0eXBlIC0gcGFuIGRpc2FibGVkLicgKTtcbiAgICAgICAgc2NvcGUuZW5hYmxlUGFuID0gZmFsc2U7XG5cbiAgICAgIH1cblxuICAgIH07XG5cbiAgfSgpO1xuXG4gIGZ1bmN0aW9uIGRvbGx5SW4oIGRvbGx5U2NhbGUgKSB7XG5cbiAgICBpZiAoIHNjb3BlLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhICkge1xuXG4gICAgICBzY2FsZSAvPSBkb2xseVNjYWxlO1xuXG4gICAgfSBlbHNlIGlmICggc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG4gICAgICBzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KCBzY29wZS5taW5ab29tLCBNYXRoLm1pbiggc2NvcGUubWF4Wm9vbSwgc2NvcGUub2JqZWN0Lnpvb20gKiBkb2xseVNjYWxlICkgKTtcbiAgICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcbiAgICAgIHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gZG9sbHlPdXQoIGRvbGx5U2NhbGUgKSB7XG5cbiAgICBpZiAoIHNjb3BlLm9iamVjdC5pc1BlcnNwZWN0aXZlQ2FtZXJhICkge1xuXG4gICAgICBzY2FsZSAqPSBkb2xseVNjYWxlO1xuXG4gICAgfSBlbHNlIGlmICggc2NvcGUub2JqZWN0LmlzT3J0aG9ncmFwaGljQ2FtZXJhICkge1xuXG4gICAgICBzY29wZS5vYmplY3Quem9vbSA9IE1hdGgubWF4KCBzY29wZS5taW5ab29tLCBNYXRoLm1pbiggc2NvcGUubWF4Wm9vbSwgc2NvcGUub2JqZWN0Lnpvb20gLyBkb2xseVNjYWxlICkgKTtcbiAgICAgIHNjb3BlLm9iamVjdC51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB6b29tQ2hhbmdlZCA9IHRydWU7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICBjb25zb2xlLndhcm4oICdXQVJOSU5HOiBPcmJpdENvbnRyb2xzLmpzIGVuY291bnRlcmVkIGFuIHVua25vd24gY2FtZXJhIHR5cGUgLSBkb2xseS96b29tIGRpc2FibGVkLicgKTtcbiAgICAgIHNjb3BlLmVuYWJsZVpvb20gPSBmYWxzZTtcblxuICAgIH1cblxuICB9XG5cbiAgLy9cbiAgLy8gZXZlbnQgY2FsbGJhY2tzIC0gdXBkYXRlIHRoZSBvYmplY3Qgc3RhdGVcbiAgLy9cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Sb3RhdGUoIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93blJvdGF0ZScgKTtcblxuICAgIHJvdGF0ZVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25Eb2xseSggZXZlbnQgKSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VEb3duRG9sbHknICk7XG5cbiAgICBkb2xseVN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd25QYW4oIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlRG93blBhbicgKTtcblxuICAgIHBhblN0YXJ0LnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlTW92ZVJvdGF0ZScgKTtcblxuICAgIHJvdGF0ZUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcbiAgICByb3RhdGVEZWx0YS5zdWJWZWN0b3JzKCByb3RhdGVFbmQsIHJvdGF0ZVN0YXJ0ICk7XG5cbiAgICB2YXIgZWxlbWVudCA9IHNjb3BlLmRvbUVsZW1lbnQgPT09IGRvY3VtZW50ID8gc2NvcGUuZG9tRWxlbWVudC5ib2R5IDogc2NvcGUuZG9tRWxlbWVudDtcblxuICAgIC8vIHJvdGF0aW5nIGFjcm9zcyB3aG9sZSBzY3JlZW4gZ29lcyAzNjAgZGVncmVlcyBhcm91bmRcbiAgICByb3RhdGVMZWZ0KCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnggLyBlbGVtZW50LmNsaWVudFdpZHRoICogc2NvcGUucm90YXRlU3BlZWQgKTtcblxuICAgIC8vIHJvdGF0aW5nIHVwIGFuZCBkb3duIGFsb25nIHdob2xlIHNjcmVlbiBhdHRlbXB0cyB0byBnbyAzNjAsIGJ1dCBsaW1pdGVkIHRvIDE4MFxuICAgIHJvdGF0ZVVwKCAyICogTWF0aC5QSSAqIHJvdGF0ZURlbHRhLnkgLyBlbGVtZW50LmNsaWVudEhlaWdodCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cbiAgICByb3RhdGVTdGFydC5jb3B5KCByb3RhdGVFbmQgKTtcblxuICAgIHNjb3BlLnVwZGF0ZSgpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlRG9sbHknICk7XG5cbiAgICBkb2xseUVuZC5zZXQoIGV2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFkgKTtcblxuICAgIGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcblxuICAgIGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcblxuICAgICAgZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuICAgIH0gZWxzZSBpZiAoIGRvbGx5RGVsdGEueSA8IDAgKSB7XG5cbiAgICAgIGRvbGx5T3V0KCBnZXRab29tU2NhbGUoKSApO1xuXG4gICAgfVxuXG4gICAgZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xuXG4gICAgc2NvcGUudXBkYXRlKCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZU1vdXNlTW92ZVBhbiggZXZlbnQgKSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VNb3ZlUGFuJyApO1xuXG4gICAgcGFuRW5kLnNldCggZXZlbnQuY2xpZW50WCwgZXZlbnQuY2xpZW50WSApO1xuXG4gICAgcGFuRGVsdGEuc3ViVmVjdG9ycyggcGFuRW5kLCBwYW5TdGFydCApO1xuXG4gICAgcGFuKCBwYW5EZWx0YS54LCBwYW5EZWx0YS55ICk7XG5cbiAgICBwYW5TdGFydC5jb3B5KCBwYW5FbmQgKTtcblxuICAgIHNjb3BlLnVwZGF0ZSgpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVNb3VzZVVwKCBldmVudCApIHtcblxuICAgIC8vIGNvbnNvbGUubG9nKCAnaGFuZGxlTW91c2VVcCcgKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTW91c2VXaGVlbCggZXZlbnQgKSB7XG5cbiAgICAvLyBjb25zb2xlLmxvZyggJ2hhbmRsZU1vdXNlV2hlZWwnICk7XG5cbiAgICBpZiAoIGV2ZW50LmRlbHRhWSA8IDAgKSB7XG5cbiAgICAgIGRvbGx5T3V0KCBnZXRab29tU2NhbGUoKSApO1xuXG4gICAgfSBlbHNlIGlmICggZXZlbnQuZGVsdGFZID4gMCApIHtcblxuICAgICAgZG9sbHlJbiggZ2V0Wm9vbVNjYWxlKCkgKTtcblxuICAgIH1cblxuICAgIHNjb3BlLnVwZGF0ZSgpO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKCBldmVudCApIHtcblxuICAgIC8vY29uc29sZS5sb2coICdoYW5kbGVLZXlEb3duJyApO1xuXG4gICAgc3dpdGNoICggZXZlbnQua2V5Q29kZSApIHtcblxuICAgICAgY2FzZSBzY29wZS5rZXlzLlVQOlxuICAgICAgICBwYW4oIDAsIHNjb3BlLmtleVBhblNwZWVkICk7XG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBzY29wZS5rZXlzLkJPVFRPTTpcbiAgICAgICAgcGFuKCAwLCAtIHNjb3BlLmtleVBhblNwZWVkICk7XG4gICAgICAgIHNjb3BlLnVwZGF0ZSgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBzY29wZS5rZXlzLkxFRlQ6XG4gICAgICAgIHBhbiggc2NvcGUua2V5UGFuU3BlZWQsIDAgKTtcbiAgICAgICAgc2NvcGUudXBkYXRlKCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIHNjb3BlLmtleXMuUklHSFQ6XG4gICAgICAgIHBhbiggLSBzY29wZS5rZXlQYW5TcGVlZCwgMCApO1xuICAgICAgICBzY29wZS51cGRhdGUoKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnRSb3RhdGUoIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoU3RhcnRSb3RhdGUnICk7XG5cbiAgICByb3RhdGVTdGFydC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnREb2xseSggZXZlbnQgKSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hTdGFydERvbGx5JyApO1xuXG4gICAgdmFyIGR4ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VYO1xuICAgIHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblxuICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcblxuICAgIGRvbGx5U3RhcnQuc2V0KCAwLCBkaXN0YW5jZSApO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0UGFuKCBldmVudCApIHtcblxuICAgIC8vY29uc29sZS5sb2coICdoYW5kbGVUb3VjaFN0YXJ0UGFuJyApO1xuXG4gICAgcGFuU3RhcnQuc2V0KCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVgsIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSApO1xuXG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmVSb3RhdGUoIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZVJvdGF0ZScgKTtcblxuICAgIHJvdGF0ZUVuZC5zZXQoIGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWCwgZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VZICk7XG4gICAgcm90YXRlRGVsdGEuc3ViVmVjdG9ycyggcm90YXRlRW5kLCByb3RhdGVTdGFydCApO1xuXG4gICAgdmFyIGVsZW1lbnQgPSBzY29wZS5kb21FbGVtZW50ID09PSBkb2N1bWVudCA/IHNjb3BlLmRvbUVsZW1lbnQuYm9keSA6IHNjb3BlLmRvbUVsZW1lbnQ7XG5cbiAgICAvLyByb3RhdGluZyBhY3Jvc3Mgd2hvbGUgc2NyZWVuIGdvZXMgMzYwIGRlZ3JlZXMgYXJvdW5kXG4gICAgcm90YXRlTGVmdCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS54IC8gZWxlbWVudC5jbGllbnRXaWR0aCAqIHNjb3BlLnJvdGF0ZVNwZWVkICk7XG5cbiAgICAvLyByb3RhdGluZyB1cCBhbmQgZG93biBhbG9uZyB3aG9sZSBzY3JlZW4gYXR0ZW1wdHMgdG8gZ28gMzYwLCBidXQgbGltaXRlZCB0byAxODBcbiAgICByb3RhdGVVcCggMiAqIE1hdGguUEkgKiByb3RhdGVEZWx0YS55IC8gZWxlbWVudC5jbGllbnRIZWlnaHQgKiBzY29wZS5yb3RhdGVTcGVlZCApO1xuXG4gICAgcm90YXRlU3RhcnQuY29weSggcm90YXRlRW5kICk7XG5cbiAgICBzY29wZS51cGRhdGUoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlRG9sbHkoIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoTW92ZURvbGx5JyApO1xuXG4gICAgdmFyIGR4ID0gZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYIC0gZXZlbnQudG91Y2hlc1sgMSBdLnBhZ2VYO1xuICAgIHZhciBkeSA9IGV2ZW50LnRvdWNoZXNbIDAgXS5wYWdlWSAtIGV2ZW50LnRvdWNoZXNbIDEgXS5wYWdlWTtcblxuICAgIHZhciBkaXN0YW5jZSA9IE1hdGguc3FydCggZHggKiBkeCArIGR5ICogZHkgKTtcblxuICAgIGRvbGx5RW5kLnNldCggMCwgZGlzdGFuY2UgKTtcblxuICAgIGRvbGx5RGVsdGEuc3ViVmVjdG9ycyggZG9sbHlFbmQsIGRvbGx5U3RhcnQgKTtcblxuICAgIGlmICggZG9sbHlEZWx0YS55ID4gMCApIHtcblxuICAgICAgZG9sbHlPdXQoIGdldFpvb21TY2FsZSgpICk7XG5cbiAgICB9IGVsc2UgaWYgKCBkb2xseURlbHRhLnkgPCAwICkge1xuXG4gICAgICBkb2xseUluKCBnZXRab29tU2NhbGUoKSApO1xuXG4gICAgfVxuXG4gICAgZG9sbHlTdGFydC5jb3B5KCBkb2xseUVuZCApO1xuXG4gICAgc2NvcGUudXBkYXRlKCk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZVRvdWNoTW92ZVBhbiggZXZlbnQgKSB7XG5cbiAgICAvL2NvbnNvbGUubG9nKCAnaGFuZGxlVG91Y2hNb3ZlUGFuJyApO1xuXG4gICAgcGFuRW5kLnNldCggZXZlbnQudG91Y2hlc1sgMCBdLnBhZ2VYLCBldmVudC50b3VjaGVzWyAwIF0ucGFnZVkgKTtcblxuICAgIHBhbkRlbHRhLnN1YlZlY3RvcnMoIHBhbkVuZCwgcGFuU3RhcnQgKTtcblxuICAgIHBhbiggcGFuRGVsdGEueCwgcGFuRGVsdGEueSApO1xuXG4gICAgcGFuU3RhcnQuY29weSggcGFuRW5kICk7XG5cbiAgICBzY29wZS51cGRhdGUoKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVG91Y2hFbmQoIGV2ZW50ICkge1xuXG4gICAgLy9jb25zb2xlLmxvZyggJ2hhbmRsZVRvdWNoRW5kJyApO1xuXG4gIH1cblxuICAvL1xuICAvLyBldmVudCBoYW5kbGVycyAtIEZTTTogbGlzdGVuIGZvciBldmVudHMgYW5kIHJlc2V0IHN0YXRlXG4gIC8vXG5cbiAgZnVuY3Rpb24gb25Nb3VzZURvd24oIGV2ZW50ICkge1xuXG4gICAgaWYgKCBzY29wZS5lbmFibGVkID09PSBmYWxzZSApIHJldHVybjtcblxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBzd2l0Y2ggKCBldmVudC5idXR0b24gKSB7XG5cbiAgICAgIGNhc2Ugc2NvcGUubW91c2VCdXR0b25zLk9SQklUOlxuXG4gICAgICAgIGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuICAgICAgICBoYW5kbGVNb3VzZURvd25Sb3RhdGUoIGV2ZW50ICk7XG5cbiAgICAgICAgc3RhdGUgPSBTVEFURS5ST1RBVEU7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2Ugc2NvcGUubW91c2VCdXR0b25zLlpPT006XG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblxuICAgICAgICBoYW5kbGVNb3VzZURvd25Eb2xseSggZXZlbnQgKTtcblxuICAgICAgICBzdGF0ZSA9IFNUQVRFLkRPTExZO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIHNjb3BlLm1vdXNlQnV0dG9ucy5QQU46XG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgICAgIGhhbmRsZU1vdXNlRG93blBhbiggZXZlbnQgKTtcblxuICAgICAgICBzdGF0ZSA9IFNUQVRFLlBBTjtcblxuICAgICAgICBicmVhaztcblxuICAgIH1cblxuICAgIGlmICggc3RhdGUgIT09IFNUQVRFLk5PTkUgKSB7XG5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZW1vdmUnLCBvbk1vdXNlTW92ZSwgZmFsc2UgKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSApO1xuXG4gICAgICAvLyBzY29wZS5kaXNwYXRjaEV2ZW50KCBzdGFydEV2ZW50ICk7XG5cbiAgICB9XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uTW91c2VNb3ZlKCBldmVudCApIHtcblxuICAgIGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgc3dpdGNoICggc3RhdGUgKSB7XG5cbiAgICAgIGNhc2UgU1RBVEUuUk9UQVRFOlxuXG4gICAgICAgIGlmICggc2NvcGUuZW5hYmxlUm90YXRlID09PSBmYWxzZSApIHJldHVybjtcblxuICAgICAgICBoYW5kbGVNb3VzZU1vdmVSb3RhdGUoIGV2ZW50ICk7XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgU1RBVEUuRE9MTFk6XG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblxuICAgICAgICBoYW5kbGVNb3VzZU1vdmVEb2xseSggZXZlbnQgKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBTVEFURS5QQU46XG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgICAgIGhhbmRsZU1vdXNlTW92ZVBhbiggZXZlbnQgKTtcblxuICAgICAgICBicmVhaztcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3VzZVVwKCBldmVudCApIHtcblxuICAgIGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cbiAgICBoYW5kbGVNb3VzZVVwKCBldmVudCApO1xuXG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lciggJ21vdXNlbW92ZScsIG9uTW91c2VNb3ZlLCBmYWxzZSApO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoICdtb3VzZXVwJywgb25Nb3VzZVVwLCBmYWxzZSApO1xuXG4gICAgLy8gc2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICB9XG5cbiAgZnVuY3Rpb24gb25Nb3VzZVdoZWVsKCBldmVudCApIHtcblxuICAgIGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlWm9vbSA9PT0gZmFsc2UgfHwgKCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSAmJiBzdGF0ZSAhPT0gU1RBVEUuUk9UQVRFICkgKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgaGFuZGxlTW91c2VXaGVlbCggZXZlbnQgKTtcblxuICAgIC8vIHNjb3BlLmRpc3BhdGNoRXZlbnQoIHN0YXJ0RXZlbnQgKTsgLy8gbm90IHN1cmUgd2h5IHRoZXNlIGFyZSBoZXJlLi4uXG4gICAgLy8gc2NvcGUuZGlzcGF0Y2hFdmVudCggZW5kRXZlbnQgKTtcblxuICB9XG5cbiAgZnVuY3Rpb24gb25LZXlEb3duKCBldmVudCApIHtcblxuICAgIGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlS2V5cyA9PT0gZmFsc2UgfHwgc2NvcGUuZW5hYmxlUGFuID09PSBmYWxzZSApIHJldHVybjtcblxuICAgIGhhbmRsZUtleURvd24oIGV2ZW50ICk7XG5cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVG91Y2hTdGFydCggZXZlbnQgKSB7XG5cbiAgICBpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgc3dpdGNoICggZXZlbnQudG91Y2hlcy5sZW5ndGggKSB7XG5cbiAgICAgIGNhc2UgMTogLy8gb25lLWZpbmdlcmVkIHRvdWNoOiByb3RhdGVcblxuICAgICAgICBpZiAoIHNjb3BlLmVuYWJsZVJvdGF0ZSA9PT0gZmFsc2UgKSByZXR1cm47XG5cbiAgICAgICAgaGFuZGxlVG91Y2hTdGFydFJvdGF0ZSggZXZlbnQgKTtcblxuICAgICAgICBzdGF0ZSA9IFNUQVRFLlRPVUNIX1JPVEFURTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcblxuICAgICAgICBoYW5kbGVUb3VjaFN0YXJ0RG9sbHkoIGV2ZW50ICk7XG5cbiAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9ET0xMWTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAzOiAvLyB0aHJlZS1maW5nZXJlZCB0b3VjaDogcGFuXG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVQYW4gPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgICAgIGhhbmRsZVRvdWNoU3RhcnRQYW4oIGV2ZW50ICk7XG5cbiAgICAgICAgc3RhdGUgPSBTVEFURS5UT1VDSF9QQU47XG5cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG5cbiAgICAgICAgc3RhdGUgPSBTVEFURS5OT05FO1xuXG4gICAgfVxuXG4gICAgaWYgKCBzdGF0ZSAhPT0gU1RBVEUuTk9ORSApIHtcblxuICAgICAgLy8gc2NvcGUuZGlzcGF0Y2hFdmVudCggc3RhcnRFdmVudCApO1xuXG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBvblRvdWNoTW92ZSggZXZlbnQgKSB7XG5cbiAgICBpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIHN3aXRjaCAoIGV2ZW50LnRvdWNoZXMubGVuZ3RoICkge1xuXG4gICAgICBjYXNlIDE6IC8vIG9uZS1maW5nZXJlZCB0b3VjaDogcm90YXRlXG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVSb3RhdGUgPT09IGZhbHNlICkgcmV0dXJuO1xuICAgICAgICBpZiAoIHN0YXRlICE9PSBTVEFURS5UT1VDSF9ST1RBVEUgKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG4gICAgICAgIGhhbmRsZVRvdWNoTW92ZVJvdGF0ZSggZXZlbnQgKTtcblxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAyOiAvLyB0d28tZmluZ2VyZWQgdG91Y2g6IGRvbGx5XG5cbiAgICAgICAgaWYgKCBzY29wZS5lbmFibGVab29tID09PSBmYWxzZSApIHJldHVybjtcbiAgICAgICAgaWYgKCBzdGF0ZSAhPT0gU1RBVEUuVE9VQ0hfRE9MTFkgKSByZXR1cm47IC8vIGlzIHRoaXMgbmVlZGVkPy4uLlxuXG4gICAgICAgIGhhbmRsZVRvdWNoTW92ZURvbGx5KCBldmVudCApO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIDM6IC8vIHRocmVlLWZpbmdlcmVkIHRvdWNoOiBwYW5cblxuICAgICAgICBpZiAoIHNjb3BlLmVuYWJsZVBhbiA9PT0gZmFsc2UgKSByZXR1cm47XG4gICAgICAgIGlmICggc3RhdGUgIT09IFNUQVRFLlRPVUNIX1BBTiApIHJldHVybjsgLy8gaXMgdGhpcyBuZWVkZWQ/Li4uXG5cbiAgICAgICAgaGFuZGxlVG91Y2hNb3ZlUGFuKCBldmVudCApO1xuXG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuXG4gICAgICAgIHN0YXRlID0gU1RBVEUuTk9ORTtcblxuICAgIH1cblxuICB9XG5cbiAgZnVuY3Rpb24gb25Ub3VjaEVuZCggZXZlbnQgKSB7XG5cbiAgICBpZiAoIHNjb3BlLmVuYWJsZWQgPT09IGZhbHNlICkgcmV0dXJuO1xuXG4gICAgaGFuZGxlVG91Y2hFbmQoIGV2ZW50ICk7XG5cbiAgICAvLyBzY29wZS5kaXNwYXRjaEV2ZW50KCBlbmRFdmVudCApO1xuXG4gICAgc3RhdGUgPSBTVEFURS5OT05FO1xuXG4gIH1cblxuICBmdW5jdGlvbiBvbkNvbnRleHRNZW51KCBldmVudCApIHtcblxuICAgIGlmICggc2NvcGUuZW5hYmxlZCA9PT0gZmFsc2UgKSByZXR1cm47XG5cbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIH1cblxuICAvL1xuXG4gIHNjb3BlLmRvbUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggJ2NvbnRleHRtZW51Jywgb25Db250ZXh0TWVudSwgZmFsc2UgKTtcblxuICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICdtb3VzZWRvd24nLCBvbk1vdXNlRG93biwgZmFsc2UgKTtcbiAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAnd2hlZWwnLCBvbk1vdXNlV2hlZWwsIGZhbHNlICk7XG5cbiAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hzdGFydCcsIG9uVG91Y2hTdGFydCwgZmFsc2UgKTtcbiAgc2NvcGUuZG9tRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCAndG91Y2hlbmQnLCBvblRvdWNoRW5kLCBmYWxzZSApO1xuICBzY29wZS5kb21FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoICd0b3VjaG1vdmUnLCBvblRvdWNoTW92ZSwgZmFsc2UgKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciggJ2tleWRvd24nLCBvbktleURvd24sIGZhbHNlICk7XG5cbiAgLy8gZm9yY2UgYW4gdXBkYXRlIGF0IHN0YXJ0XG5cbiAgdGhpcy51cGRhdGUoKTtcblxufTtcblxuVEhSRUUuT3JiaXRDb250cm9scy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKCBUSFJFRS5FdmVudERpc3BhdGNoZXIucHJvdG90eXBlICk7XG5USFJFRS5PcmJpdENvbnRyb2xzLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IFRIUkVFLk9yYml0Q29udHJvbHM7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBUSFJFRS5PcmJpdENvbnRyb2xzLnByb3RvdHlwZSwge1xuXG4gIGNlbnRlcjoge1xuXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5jZW50ZXIgaGFzIGJlZW4gcmVuYW1lZCB0byAudGFyZ2V0JyApO1xuICAgICAgcmV0dXJuIHRoaXMudGFyZ2V0O1xuXG4gICAgfVxuXG4gIH0sXG5cbiAgLy8gYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuXG4gIG5vWm9vbToge1xuXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1pvb20gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVab29tIGluc3RlYWQuJyApO1xuICAgICAgcmV0dXJuICEgdGhpcy5lbmFibGVab29tO1xuXG4gICAgfSxcblxuICAgIHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgY29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vWm9vbSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVpvb20gaW5zdGVhZC4nICk7XG4gICAgICB0aGlzLmVuYWJsZVpvb20gPSAhIHZhbHVlO1xuXG4gICAgfVxuXG4gIH0sXG5cbiAgbm9Sb3RhdGU6IHtcblxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICBjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9Sb3RhdGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVSb3RhdGUgaW5zdGVhZC4nICk7XG4gICAgICByZXR1cm4gISB0aGlzLmVuYWJsZVJvdGF0ZTtcblxuICAgIH0sXG5cbiAgICBzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub1JvdGF0ZSBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZVJvdGF0ZSBpbnN0ZWFkLicgKTtcbiAgICAgIHRoaXMuZW5hYmxlUm90YXRlID0gISB2YWx1ZTtcblxuICAgIH1cblxuICB9LFxuXG4gIG5vUGFuOiB7XG5cbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcblxuICAgICAgY29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLm5vUGFuIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlUGFuIGluc3RlYWQuJyApO1xuICAgICAgcmV0dXJuICEgdGhpcy5lbmFibGVQYW47XG5cbiAgICB9LFxuXG4gICAgc2V0OiBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG4gICAgICBjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9QYW4gaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVQYW4gaW5zdGVhZC4nICk7XG4gICAgICB0aGlzLmVuYWJsZVBhbiA9ICEgdmFsdWU7XG5cbiAgICB9XG5cbiAgfSxcblxuICBub0tleXM6IHtcblxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICBjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAubm9LZXlzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFVzZSAuZW5hYmxlS2V5cyBpbnN0ZWFkLicgKTtcbiAgICAgIHJldHVybiAhIHRoaXMuZW5hYmxlS2V5cztcblxuICAgIH0sXG5cbiAgICBzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5ub0tleXMgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVLZXlzIGluc3RlYWQuJyApO1xuICAgICAgdGhpcy5lbmFibGVLZXlzID0gISB2YWx1ZTtcblxuICAgIH1cblxuICB9LFxuXG4gIHN0YXRpY01vdmluZzoge1xuXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG5cbiAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5zdGF0aWNNb3ZpbmcgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIC5lbmFibGVEYW1waW5nIGluc3RlYWQuJyApO1xuICAgICAgcmV0dXJuICEgdGhpcy5lbmFibGVEYW1waW5nO1xuXG4gICAgfSxcblxuICAgIHNldDogZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuICAgICAgY29uc29sZS53YXJuKCAnVEhSRUUuT3JiaXRDb250cm9sczogLnN0YXRpY01vdmluZyBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgLmVuYWJsZURhbXBpbmcgaW5zdGVhZC4nICk7XG4gICAgICB0aGlzLmVuYWJsZURhbXBpbmcgPSAhIHZhbHVlO1xuXG4gICAgfVxuXG4gIH0sXG5cbiAgZHluYW1pY0RhbXBpbmdGYWN0b3I6IHtcblxuICAgIGdldDogZnVuY3Rpb24gKCkge1xuXG4gICAgICBjb25zb2xlLndhcm4oICdUSFJFRS5PcmJpdENvbnRyb2xzOiAuZHluYW1pY0RhbXBpbmdGYWN0b3IgaGFzIGJlZW4gcmVuYW1lZC4gVXNlIC5kYW1waW5nRmFjdG9yIGluc3RlYWQuJyApO1xuICAgICAgcmV0dXJuIHRoaXMuZGFtcGluZ0ZhY3RvcjtcblxuICAgIH0sXG5cbiAgICBzZXQ6IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cbiAgICAgIGNvbnNvbGUud2FybiggJ1RIUkVFLk9yYml0Q29udHJvbHM6IC5keW5hbWljRGFtcGluZ0ZhY3RvciBoYXMgYmVlbiByZW5hbWVkLiBVc2UgLmRhbXBpbmdGYWN0b3IgaW5zdGVhZC4nICk7XG4gICAgICB0aGlzLmRhbXBpbmdGYWN0b3IgPSB2YWx1ZTtcblxuICAgIH1cblxuICB9XG5cbn0gKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY2xhc3MgTGlnaHRNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3Ioc2NlbmUpIHtcbiAgICB0aGlzLnNjZW5lID0gc2NlbmU7XG4gICAgdGhpcy5zY2VuZS5hZGQobmV3IFRIUkVFLkFtYmllbnRMaWdodCgweGZmZmZmZiwgMC43KSk7XG5cbiAgICB0aGlzLmxpZ2h0ID0gbmV3IFRIUkVFLkRpcmVjdGlvbmFsTGlnaHQoMHhmZmZmZmYsIDAuMSk7XG4gICAgdGhpcy5saWdodC5wb3NpdGlvbi54ID0gMjA7XG4gICAgdGhpcy5saWdodC5wb3NpdGlvbi55ID0gMTUwO1xuICAgIHRoaXMubGlnaHQucG9zaXRpb24ueiA9IDkwO1xuICAgIHRoaXMubGlnaHQubmFtZSA9ICdkaXJsaWdodCc7XG5cbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmxpZ2h0KTtcbiAgICB0aGlzLmxpZ2h0LmNhc3RTaGFkb3cgPSB0cnVlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTGlnaHRNYW5hZ2VyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBWaXN1YWxNYW5hZ2VyID0gcmVxdWlyZSgnLi92aXN1YWwtbWFuYWdlcicpO1xuXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XG4gIGNvbnN0IHZpc3VhbE1hbmFnZXIgPSBuZXcgVmlzdWFsTWFuYWdlcigpO1xuICB2aXN1YWxNYW5hZ2VyLmluaXRpYWxpemUoKTtcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBFTkFCTEVfUk9UQVRJT04gPSBmYWxzZTtcblxuY2xhc3MgUGxhbmV0IHtcbiAgY29uc3RydWN0b3IoX3NjZW5lKSB7XG4gICAgdGhpcy5zY2VuZSA9IF9zY2VuZTtcbiAgICB0aGlzLmNyZWF0ZVNreUJveCgpO1xuICB9XG5cbiAgY3JlYXRlU2t5Qm94KCkge1xuICAgIGNvbnN0IHNreUJveEdlb21ldHJ5ID0gbmV3IFRIUkVFLkJveEdlb21ldHJ5KDEwLCAxMCwgMTApO1xuICAgIGNvbnN0IHNreUJveE1hdGVyaWFsID0gbmV3IFRIUkVFLk1lc2hCYXNpY01hdGVyaWFsKHsgY29sb3I6ICcjZmZmJywgc2lkZTogVEhSRUUuQmFja1NpZGUgfSk7XG4gICAgc2t5Qm94TWF0ZXJpYWwubWFwID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSgnYXNzZXRzL3Nwcml0ZXMvU3RhcnNjYXBlLnBuZycpO1xuICAgIGNvbnN0IHNreUJveCA9IG5ldyBUSFJFRS5NZXNoKHNreUJveEdlb21ldHJ5LCBza3lCb3hNYXRlcmlhbCk7XG4gICAgdGhpcy5zY2VuZS5hZGQoc2t5Qm94KTtcbiAgfVxuXG4gIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplRWFydGgoKTtcbiAgICB0aGlzLmluaXRpYWxpemVTbW9rZU1hcCgpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUVhcnRoKCkge1xuICAgIGNvbnN0IGJhc2VFYXJ0aEdlb21ldHJ5ID0gbmV3IFRIUkVFLlNwaGVyZUdlb21ldHJ5KDAuNSwgMzIsIDMyKTtcbiAgICBjb25zdCBlYXJ0aE1hdCA9IG5ldyBUSFJFRS5NZXNoUGhvbmdNYXRlcmlhbCgpO1xuICAgIHRoaXMuZWFydGhNZXNoID0gbmV3IFRIUkVFLk1lc2goYmFzZUVhcnRoR2VvbWV0cnksIGVhcnRoTWF0KTtcblxuICAgIGVhcnRoTWF0Lm1hcCA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2Fzc2V0cy9zcHJpdGVzL2VhcnRoL2VhcnRoX3RleHR1cmUuanBnJyk7XG4gICAgZWFydGhNYXQuYnVtcE1hcCA9IFRIUkVFLkltYWdlVXRpbHMubG9hZFRleHR1cmUoJ2Fzc2V0cy9zcHJpdGVzL2VhcnRoL2VhcnRoX2J1bXBfbWFwLmpwZycpO1xuICAgIGVhcnRoTWF0LnNwZWN1bGFyTWFwID0gVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSgnYXNzZXRzL3Nwcml0ZXMvZWFydGgvZWFydGhfc3BlY3VsYXIuanBnJyk7XG5cbiAgICBlYXJ0aE1hdC5idW1wU2NhbGUgPSAwLjA1O1xuICAgIGVhcnRoTWF0LnNwZWN1bGFyID0gbmV3IFRIUkVFLkNvbG9yKCdncmV5Jyk7XG5cbiAgICB0aGlzLnNjZW5lLmFkZCh0aGlzLmVhcnRoTWVzaCk7XG4gIH1cblxuICBpbml0aWFsaXplU21va2VNYXAoKSB7XG4gICAgY29uc3Qgc21va2VHZW9tZXRyeSA9IG5ldyBUSFJFRS5TcGhlcmVHZW9tZXRyeSgwLjUxLCAzMiwgMzIpO1xuICAgIGNvbnN0IHRleHR1cmVQYXRoID0gJ2Fzc2V0cy9zcHJpdGVzL3llYXJzL3llYXJfMjAxNC5wbmcnO1xuXG4gICAgdGhpcy5zbW9rZU1hdGVyaWFsID0gbmV3IFRIUkVFLlNoYWRlck1hdGVyaWFsKHtcbiAgICAgIHVuaWZvcm1zOiB7XG4gICAgICAgIGJ1ZmZlclRleHR1cmU6IHsgdHlwZTogJ3QnLCB2YWx1ZTogVEhSRUUuSW1hZ2VVdGlscy5sb2FkVGV4dHVyZSh0ZXh0dXJlUGF0aCkgfSxcbiAgICAgICAgdGltZTogeyB0eXBlOiAnZicsIHZhbHVlOiAwLjAgfSxcbiAgICAgICAgc2NhbGU6IHsgdHlwZTogJ3YyJywgdmFsdWU6IG5ldyBUSFJFRS5WZWN0b3IyKDEwMCwgMTAwKSB9XG4gICAgICB9LFxuICAgICAgYmxlbmRpbmc6IFRIUkVFLk5vcm1hbEJsZW5kaW5nLFxuICAgICAgZGVwdGhUZXN0OiB0cnVlLFxuICAgICAgdHJhbnNwYXJlbnQ6IHRydWUsXG5cbiAgICAgIHZlcnRleFNoYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZlcnRleFNoYWRlcicpLnRleHRDb250ZW50LFxuICAgICAgZnJhZ21lbnRTaGFkZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmcmFnbWVudC1zaGFkZXItc21va2UnKS50ZXh0Q29udGVudFxuICAgIH0pO1xuXG4gICAgdGhpcy5zbW9rZU1lc2ggPSBuZXcgVEhSRUUuTWVzaChzbW9rZUdlb21ldHJ5LCB0aGlzLnNtb2tlTWF0ZXJpYWwpO1xuICAgIHRoaXMuc2NlbmUuYWRkKHRoaXMuc21va2VNZXNoKTtcbiAgfVxuXG4gIHVwZGF0ZSgpIHtcbiAgICBpZiAoRU5BQkxFX1JPVEFUSU9OKSB7XG4gICAgICB0aGlzLmVhcnRoTWVzaC5yb3RhdGlvbi55ICs9IDAuMDAyO1xuICAgICAgdGhpcy5zbW9rZU1lc2gucm90YXRpb24ueSArPSAwLjAwMjtcbiAgICAgIC8vIHRoaXMuc21va2VNZXNoLnJvdGF0aW9uLnkgKz0gMC4wMDE7XG4gICAgfVxuXG4gICAgLy8gdGhpcy5zbW9rZU1hdGVyaWFsLnVuaWZvcm1zLnRpbWUudmFsdWUgKz0gMC4wMDE7XG4gICAgdGhpcy5zbW9rZU1hdGVyaWFsLnVuaWZvcm1zLnRpbWUudmFsdWUgKz0gMC4wMDI1O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGxhbmV0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBMaWdodE1hbmFnZXIgPSByZXF1aXJlKCcuL2xpZ2h0LW1hbmFnZXInKTtcbmNvbnN0IENhbWVyYU1hbmFnZXIgPSByZXF1aXJlKCcuL2NhbWVyYS1tYW5hZ2VyJyk7XG5jb25zdCBQbGFuZXQgPSByZXF1aXJlKCcuL3BsYW5ldCcpO1xucmVxdWlyZSgnLi9saWIvb3JiaXRhbC1jb250cm9scycpO1xuXG5jb25zdCBHQU1FX0ZQUyA9IDUwO1xuXG5jb25zdCBWSVNVQUxfQVJFQV9ESVZfSUQgPSAnZGlzcGxheS1hcmVhJztcbmNvbnN0IENBTlZBU19JRCA9ICdkaXNwbGF5LWNhbnZhcyc7XG5cbmxldCB2aXN1YWxNYW5hZ2VyO1xuXG5jbGFzcyBWaXN1YWxNYW5hZ2VyIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZW5kZXJlciA9IG51bGw7XG4gIH1cblxuICBpbml0aWFsaXplKCkge1xuICAgIHZpc3VhbE1hbmFnZXIgPSB0aGlzO1xuICAgIHRoaXMucmVuZGVyZXIgPSBudWxsO1xuICAgIHRoaXMuc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKTtcbiAgICB0aGlzLnByZXZpb3VzUGxheWVyU3RhdGUgPSB7fTtcbiAgICB0aGlzLmxvb3BzID0gMDtcbiAgICB0aGlzLnNraXBUaWNrcyA9IDEwMDAgLyBHQU1FX0ZQUztcbiAgICB0aGlzLm1heEZyYW1lU2tpcCA9IDEwO1xuICAgIHRoaXMubmV4dEdhbWVUaWNrID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcblxuICAgIHRoaXMucGxhbmV0ID0gbmV3IFBsYW5ldCh0aGlzLnNjZW5lKTtcbiAgICB0aGlzLmxpZ2h0TWFuYWdlciA9IG5ldyBMaWdodE1hbmFnZXIodGhpcy5zY2VuZSk7XG4gICAgdGhpcy5jYW1lcmFNYW5hZ2VyID0gbmV3IENhbWVyYU1hbmFnZXIodGhpcy5zY2VuZSwgdGhpcyk7XG4gICAgdGhpcy5pbml0aWFsaXplR3JhcGhpY3MoKTtcblxuICAgIHRoaXMucGxhbmV0LmluaXRpYWxpemUoKTtcbiAgICB0aGlzLnJlbmRlcigpO1xuICB9XG5cbiAgaW5pdGlhbGl6ZUdyYXBoaWNzKCkge1xuICAgIGNvbnN0IGNhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChDQU5WQVNfSUQpO1xuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgVEhSRUUuV2ViR0xSZW5kZXJlcih7IGFudGlhbGlhczogdHJ1ZSwgY2FudmFzOiBjYW52YXNFbGVtZW50IH0pO1xuXG4gICAgdGhpcy5yZW5kZXJlci5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xuICAgIHRoaXMucmVuZGVyZXIuc2V0Q2xlYXJDb2xvcigweGZmZmZmZiwgMSk7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd01hcFR5cGUgPSBUSFJFRS5QQ0ZTb2Z0U2hhZG93TWFwO1xuICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwRW5hYmxlZCA9IHRydWU7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXBTb2Z0ID0gZmFsc2U7XG5cbiAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd0NhbWVyYU5lYXIgPSAzO1xuICAgIHRoaXMucmVuZGVyZXIuc2hhZG93Q2FtZXJhRmFyID0gdGhpcy5jYW1lcmFNYW5hZ2VyLmZhcjtcbiAgICB0aGlzLnJlbmRlcmVyLnNoYWRvd0NhbWVyYUZvdiA9IDUwO1xuXG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXBCaWFzID0gMC4wMDAxO1xuICAgIHRoaXMucmVuZGVyZXIuc2hhZG93TWFwRGFya25lc3MgPSAwLjI7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXBXaWR0aCA9IDIwNDg7XG4gICAgdGhpcy5yZW5kZXJlci5zaGFkb3dNYXBIZWlnaHQgPSAyMDQ4O1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoVklTVUFMX0FSRUFfRElWX0lEKS5hcHBlbmRDaGlsZCh0aGlzLnJlbmRlcmVyLmRvbUVsZW1lbnQpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5vbmNvbnRleHRtZW51ID0gKCkgPT4gZmFsc2U7XG4gICAgVEhSRUUuT3JiaXRDb250cm9scyh0aGlzLmNhbWVyYU1hbmFnZXIuY2FtZXJhLCBjYW52YXNFbGVtZW50KTtcblxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCAoKSA9PiB7XG4gICAgICB0aGlzLmNhbWVyYU1hbmFnZXIuY2FtZXJhLmFzcGVjdCA9IHdpbmRvdy5pbm5lcldpZHRoIC8gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgdGhpcy5jYW1lcmFNYW5hZ2VyLmNhbWVyYS51cGRhdGVQcm9qZWN0aW9uTWF0cml4KCk7XG4gICAgICB0aGlzLnJlbmRlcmVyLnNldFNpemUod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XG4gICAgfSwgZmFsc2UpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh2aXN1YWxNYW5hZ2VyLnJlbmRlcik7XG4gICAgdmlzdWFsTWFuYWdlci52aXN1YWxVcGRhdGUoKTtcbiAgICB2aXN1YWxNYW5hZ2VyLnJlbmRlcmVyLnJlbmRlcih2aXN1YWxNYW5hZ2VyLnNjZW5lLCB2aXN1YWxNYW5hZ2VyLmNhbWVyYU1hbmFnZXIuY2FtZXJhKTtcbiAgfVxuXG4gIHZpc3VhbFVwZGF0ZSgpIHtcbiAgICB2aXN1YWxNYW5hZ2VyLmxvb3BzID0gMDtcbiAgICB3aGlsZSAoKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgPiB2aXN1YWxNYW5hZ2VyLm5leHRHYW1lVGljaykgJiZcbiAgICAgICAgKHZpc3VhbE1hbmFnZXIubG9vcHMgPCB2aXN1YWxNYW5hZ2VyLm1heEZyYW1lU2tpcCkpIHtcbiAgICAgIHZpc3VhbE1hbmFnZXIudXBkYXRlKCk7XG4gICAgICB2aXN1YWxNYW5hZ2VyLm5leHRHYW1lVGljayArPSB2aXN1YWxNYW5hZ2VyLnNraXBUaWNrcztcbiAgICAgIHZpc3VhbE1hbmFnZXIubG9vcHMgKz0gMTtcbiAgICB9XG5cbiAgICAvLyBVc2VkIHRvIHByZXZlbnQgc3BlZWQgdXAgaXNzdWVcbiAgICBpZiAodmlzdWFsTWFuYWdlci5sb29wcyA+IDApIHtcbiAgICAgIHRoaXMudmlzdWFsVXBkYXRlKCk7XG4gICAgfVxuICB9XG5cbiAgdXBkYXRlKCkge1xuICAgIHRoaXMuY2FtZXJhTWFuYWdlci51cGRhdGUoKTtcbiAgICB0aGlzLnBsYW5ldC51cGRhdGUoKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFZpc3VhbE1hbmFnZXI7XG4iXX0="}